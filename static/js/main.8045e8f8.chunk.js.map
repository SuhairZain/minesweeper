{"version":3,"sources":["components/Timer.tsx","images/red-flag.svg","components/FlaggedTilesCount.tsx","images/timer_black_24dp.svg","game/components/Tile.tsx","game/images/icons8-explosion-24.png","game/getBoardSize.ts","game/getNearbyTiles.ts","game/getNearbyMines.ts","game/components/Board.tsx","game/createBoard.ts","utils/arrays.ts","game/getTouchingEmptyTiles.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["timerId","styles","root","backgroundColor","padding","borderRadius","flagIcon","content","height","width","margin","alignItems","justifyContent","flex","alignSelf","color","RemainingFlagsCount","count","style","className","css","src","redFlag","timer","Timer","status","useState","time","setTime","useEffect","setInterval","seconds","clearInterval","padStart","minutes","Math","floor","timerIcon","clickable","cursor","unveiled","flagged","mine","flag","nearbyMines","fontWeight","fontSize","getColorForNearbyMines","Tile","isMine","visibility","gameOver","gameWon","onClick","onRightClick","isUnveiled","isFlagged","cancelEventAndCallHandler","clickHandler","e","preventDefault","canClick","rightClickHandler","onContextMenu","alt","getBoardSize","board","sqrt","tiles","length","getNearbyTiles","boardOrBoardSize","position","boardSize","i","j","reduce","acc","curr","index","some","nDI","concat","getNearbyMines","p","flexWrap","Board","state","visibilityState","childFlex","map","tile","getRandomItem","items","max","random","subtractArrayFromArray","source","minus","filter","s","m","getTouchingEmptyTiles","visitedTiles","adjacentTiles","nonMineTiles","nonVisitedNonMineTiles","updatedVisitedTiles","touchingTiles","App","Array","fill","setBoard","boardState","setBoardState","every","t","gameStarted","setGameStarted","flaggedTilesCount","numberOfMines","numberOfFlagsLeft","flexDirection","marginBottom","maybeUpdatedBoard","size","initialIndex","Error","initialIndexAndNearby","indicesToRandomlyPlaceMines","_","mineIndices","randomIndex","push","includes","createBoard","tilesToUnveil","v","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yNAYIA,E,OCZW,MAA0B,qC,OCUnCC,EAAgB,CACpBC,KAAM,CAAEC,gBAAiB,UAAWC,QAAS,EAAGC,aAAc,GAC9DC,SAAU,CACRH,gBAAiB,WAEnBI,QAAS,CACPC,OAAQ,GACRC,MAAO,GACPJ,aAAc,EACdF,gBAAiB,UACjBO,OAAQ,EACRC,WAAY,SACZC,eAAgB,SAChBC,KAAM,EACNC,UAAW,UACXC,MAAO,UAIEC,EAAsB,SAAC,GAGF,IAFhCC,EAE+B,EAF/BA,MACAC,EAC+B,EAD/BA,MAEA,OACE,sBAAKC,UAAWC,YAAInB,EAAOC,MAAOgB,MAAOA,EAAzC,UACE,qBAAKC,UAAWC,YAAInB,EAAOM,SAA3B,SAAsCU,IACtC,qBAAKE,UAAWC,YAAInB,EAAOM,QAASN,EAAOK,UAA3C,SACE,qBAAKe,IAAKC,EAASb,MAAO,GAAID,OAAQ,WCrC/B,MAA0B,6CHcnCP,EAAgB,CACpBC,KAAM,CAAEC,gBAAiB,UAAWC,QAAS,EAAGC,aAAc,GAC9DkB,MAAO,CACLpB,gBAAiB,WAEnBI,QAAS,CACPC,OAAQ,GACRC,MAAO,GACPJ,aAAc,EACdF,gBAAiB,UACjBO,OAAQ,EACRC,WAAY,SACZC,eAAgB,SAChBC,KAAM,EACNC,UAAW,UACXC,MAAO,UAIES,EAAQ,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,OAAQP,EAAyB,EAAzBA,MAAyB,EAC/BQ,mBAAiB,GADc,mBAChDC,EADgD,KAC1CC,EAD0C,KAGvDC,qBAAU,WAWR,MAVe,YAAXJ,IACFzB,EAAU8B,aAAY,WACpBF,GAAQ,SAACG,GAAD,OAAaA,EAAU,OAC9B,MAGU,YAAXN,GACFO,cAAchC,GAGT,kBAAMgC,cAAchC,MAC1B,CAACyB,IAEJ,IAAMM,EAAU,UAAGJ,EAAO,IAAKM,SAAS,EAAG,KACrCC,EAAU,UAAGC,KAAKC,MAAMT,EAAO,KAAMM,SAAS,EAAG,KAEvD,OACE,sBAAKd,UAAWC,YAAInB,EAAOC,MAAOgB,MAAOA,EAAzC,UACE,qBAAKC,UAAWC,YAAInB,EAAOM,QAASN,EAAOsB,OAA3C,SACE,qBAAKF,IAAKgB,MAEZ,qBAAKlB,UAAWC,YAAInB,EAAOM,SAA3B,SAAsC2B,IACtC,qBAAKf,UAAWC,YAAInB,EAAOM,SAA3B,SAAsCwB,Q,OIpDtC9B,EAAgB,CACpBC,KAAM,CACJM,OAAQ,GACRC,MAAO,IAETF,QAAS,CACPJ,gBAAiB,UACjBE,aAAc,EACdK,OAAQ,EACRC,WAAY,SACZC,eAAgB,SAChBC,KAAM,EACNC,UAAW,WAEbwB,UAAW,CACTC,OAAQ,WAEVC,SAAU,CACRrC,gBAAiB,WAEnBsC,QAAS,CACPtC,gBAAiB,WAEnBuC,KAAM,CACJvC,gBAAiB,WAEnBwC,KAAM,CACJlC,MAAO,GACPD,OAAQ,IAEVoC,YAAa,CACXC,WAAY,SACZC,SAAU,KAIRC,EAAyB,SAACH,GAC9B,OAAQA,GACN,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,UACT,QACE,MAAO,YAeAI,EAAO,SAAC,GASF,IARjBC,EAQgB,EARhBA,OACAC,EAOgB,EAPhBA,WACAN,EAMgB,EANhBA,YACAO,EAKgB,EALhBA,SACAC,EAIgB,EAJhBA,QACAlC,EAGgB,EAHhBA,MACAmC,EAEgB,EAFhBA,QACAC,EACgB,EADhBA,aAEMC,EAA4B,aAAfL,EACbM,EAA2B,YAAfN,EAEZO,EAA4B,SAChCC,GADgC,OAEY,SAACC,GAC7CA,EAAEC,iBACFF,MAGIG,IAAaV,GAAYC,KAAaG,IAAeC,EACrDE,EAAeD,EAA0BI,EAAWR,EAAU,cAC9DS,EAAoBL,EACtBN,GAAYC,GAAaG,EAA4B,aAAfD,GAG1C,OACE,qBAAKnC,UAAWC,YAAInB,EAAOC,MAAOgB,MAAOA,EAAzC,SACE,sBACEC,UAAWC,YAAI,CACbnB,EAAOM,QACPgD,GAActD,EAAOuC,SACrBgB,GAAavD,EAAOwC,QACpBoB,GAAY5D,EAAOqC,YAErBe,QAASK,EACTK,cAAeD,EARjB,UAUGN,GACC,qBAAKnC,IAAKC,EAASH,UAAWC,YAAInB,EAAO0C,MAAOqB,IAAI,YAErDb,GAA2B,YAAfD,GAA4BD,GACvC,qBAAK5B,IC7GA,ikDD6GgB2C,IAAI,kBAE1BT,IAAeN,GAA0B,IAAhBL,GACxB,sBACEzB,UAAWC,YAAI,CAACnB,EAAO2C,aAAc,CACnC7B,MAAOgC,EAAuBH,KAFlC,SAKGA,UEnHAqB,EAAe,SAACC,GAAD,OAAmB/B,KAAKgC,KAAKD,EAAME,MAAMC,SCC9D,SAASC,EACdC,EACAC,GAEA,GAAgC,kBAArBD,EACT,OAAOD,EAAeL,EAAaM,GAAmBC,GAGxD,IAAMC,EAAYF,EAEZG,EAAIvC,KAAKC,MAAMoC,EAAWC,GAC1BE,EAAIH,EAAWC,EAErB,MAAO,CACL,CAACC,EAAI,EAAGC,EAAI,GACZ,CAACD,EAAGC,EAAI,GACR,CAACD,EAAI,EAAGC,EAAI,GACZ,CAACD,EAAI,EAAGC,GACR,CAACD,EAAI,EAAGC,GACR,CAACD,EAAI,EAAGC,EAAI,GACZ,CAACD,EAAGC,EAAI,GACR,CAACD,EAAI,EAAGC,EAAI,IACZC,QAAO,SAACC,EAAKC,GAAU,IAAD,cACPA,EADO,GACfJ,EADe,KACZC,EADY,KAGtB,GAAID,EAAI,GAAKC,EAAI,GAAKD,GAAKD,GAAaE,GAAKF,EAC3C,OAAOI,EAGT,IAAME,EAAQL,EAAID,EAAYE,EAE9B,OAAIE,EAAIG,MAAK,SAACC,GAAD,OAASA,IAAQF,KACrBF,EAGFA,EAAIK,OAAOH,KACjB,ICpCE,IAAMI,EAAiB,SAACjB,EAAeM,GAC5C,OAAOF,EAAeJ,EAAOM,GAAUI,QACrC,SAACC,EAAKO,GAAN,OAAYP,GAAOX,EAAME,MAAMgB,GAAGnC,OAAS,EAAI,KAC/C,ICAEhD,EAAgB,CACpBC,KAAM,CACJC,gBAAiB,UACjBE,aAAc,EACdD,QAAS,EACTiF,SAAU,SAYDC,EAAQ,SAAC,GAMF,IALlBpB,EAKiB,EALjBA,MACAqB,EAIiB,EAJjBA,MACAnC,EAGiB,EAHjBA,QACAC,EAEiB,EAFjBA,QACAC,EACiB,EADjBA,aAEQkC,EAAoBD,EAApBC,gBAEFf,EAAYR,EAAaC,GACzBuB,EAAS,cAAU,IAAMhB,EAAhB,KAEf,OACE,qBACEvD,MAAK,2BAAOjB,EAAOC,MAAd,IAAoBO,MAAmB,GAAZgE,EAAmC,GAAjBA,EAAY,KADhE,SAGGP,EAAME,MAAMsB,KAAI,SAACC,EAAMjB,GAAO,IACrBzB,EAAW0C,EAAX1C,OACFC,EAAasC,EAAgBd,GAEnC,OACE,cAAC,EAAD,CAEEzB,OAAQA,EACRC,WAAYA,EACZN,YAAauC,EAAejB,EAAOQ,GACnCtB,QAASA,EACTD,SAAUoC,EAAMpC,SAChBjC,MAAO,CAAEL,KAAM4E,GACfpC,QAAS,WACPA,EAAQqB,IAEVpB,aAAc,kBAAMA,EAAaoB,KAV5BA,SCxCXkB,EAAgB,SAAIC,GACxB,OAAOA,GAHaC,EAGMD,EAAMxB,OAHIlC,KAAKC,MAAMD,KAAK4D,SAAWD,KAA5C,IAACA,GCHTE,EAAyB,SAAIC,EAAaC,GACrD,OAAOD,EAAOE,QAAO,SAACC,GAAD,OAAQF,EAAMlB,MAAK,SAACqB,GAAD,OAAOD,IAAMC,SCI1CC,EAAwB,SAAxBA,EACXpC,EACAM,GAEc,IADd+B,EACa,uDADY,CAAC/B,GAEpBgC,EAAgBlC,EAAeJ,EAAOM,GACtCiC,EAAeD,EAAcL,QACjC,SAACpB,GAAD,OAAYb,EAAME,MAAMW,GAAO9B,UAG3ByD,EAAyBV,EAC7BS,EACAF,GAGEI,EAAsBJ,EAAarB,OAAOwB,GAa9C,OAAOA,EAAuB9B,QAAO,SAACC,EAAKC,GAGzC,GAA4B,IAFAK,EAAejB,EAAOY,GAGhD,OAAOD,EAGT,IAAM+B,EAAgBN,EACpBpC,EACAY,EACA6B,GAGF,OADAA,EAAsBA,EAAoBzB,OAAO0B,GAC1C/B,EAAIK,OAAO0B,KACjBF,ICwEUG,MA3Gf,WAAgB,IAAD,EACqBnF,mBAAS,IAD9B,mBACN+C,EADM,aAGa/C,mBAAiB,CACzC0C,MAAO,IAAI0C,MAAMrC,EAAYA,GAC1BsC,KAAK,GACLrB,KAAI,iBAAO,CAAEzC,QAAQ,SANb,mBAGNiB,EAHM,KAGC8C,EAHD,OASuBtF,mBAAsB,CACxDyB,UAAU,EACVqC,gBAAiBtB,EAAME,MAAMsB,KAAI,iBAAM,cAX5B,mBASNuB,EATM,KASMC,EATN,KAcP9D,EAAUc,EAAME,MAAM+C,OAAM,SAACC,EAAG1C,GAAJ,QAChC0C,EAAEnE,QAAkD,aAAlCgE,EAAWzB,gBAAgBd,MAflC,EAkByBhD,oBAAS,GAlBlC,mBAkBN2F,EAlBM,KAkBOC,EAlBP,KAoBPC,EAAoBN,EAAWzB,gBAAgBZ,QACnD,SAACC,EAAKC,GAAN,MAAyB,YAATA,EAAqBD,EAAM,EAAIA,IAC/C,GAEI2C,EAAgBtD,EAAME,MAAMQ,QAChC,SAACC,EAAKC,GAAN,OAAgBA,EAAK7B,OAAS4B,EAAM,EAAIA,IACxC,GAEI4C,EAAoBJ,EAAcG,EAAgBD,EAAoB,EAE5E,OACE,qBAAKpG,UAAU,MAAf,SACE,qBACED,MAAO,CACLP,WAAY,SACZC,eAAgB,SAChBC,KAAM,GAJV,SAOE,sBACEK,MAAO,CACLwG,cAAe,UAFnB,UAKE,sBAAKxG,MAAO,CAAEyG,aAAc,EAAG/G,eAAgB,iBAA/C,UACE,cAAC,EAAD,CACEa,QACE4F,GAAiBJ,EAAW9D,UAAYC,EAEpC,UADA,YAIR,cAAC,EAAD,CAAqBnC,MAAOwG,OAE9B,cAAC,EAAD,CACEvD,MAAOA,EACPqB,MAAO0B,EACP7D,QAASA,EACTC,QAAS,SAAC0B,GACR,IAAI6C,EAAoB1D,EAEnBmD,IACHO,EHjEW,SACzBC,EACAL,EACAM,GAEA,GAAIN,EAAgBK,EAAOA,EAAO,EAChC,MAAM,IAAIE,MAAM,iCAalB,IAVA,IAAMC,EAAwB,CAACF,GAAc5C,OAC3CZ,EAAeuD,EAAMC,IAGnBG,EAA8B,IAAInB,MAAMe,EAAOA,GAChDd,KAAK,GACLrB,KAAI,SAACwC,EAAGxD,GAAJ,OAAUA,KACdyB,QAAO,SAAC+B,EAAGxD,GAAJ,OAAWsD,EAAsBhD,MAAK,SAACD,GAAD,OAAWA,IAAUL,QAE/DyD,EAAwB,GAdnB,WAeFzD,GACP,IAAM0D,EAAcxC,EAAcqC,GAClCE,EAAYE,KAAKD,GAEjBH,EAA8BA,EAA4B9B,QACxD,SAACzB,GAAD,OAAOA,IAAM0D,MALR1D,EAAI,EAAGA,EAAI8C,IAAiB9C,EAAI,IASzC,MAAO,CACLN,MAAO,IAAI0C,MAAMe,EAAOA,GACrBd,KAAK,GACLrB,KAAI,SAACwC,EAAGxD,GAAJ,OAAUA,KACdgB,KAAI,SAAChB,GAAD,MAAQ,CAAEzB,OAAQkF,EAAYG,SAAS5D,QGiCd6D,CAAY9D,EAAW,GAAIM,GAC/CiC,EAASY,GACTN,GAAe,IAGjB,IAAMnE,EAAWyE,EAAkBxD,MAAMW,GAAO9B,OAE1CuF,EAAgBrF,EAClB,CAAC4B,GACD,CAACA,GAAOG,OACNoB,EAAsBsB,EAAmB7C,IAG/CmC,EAAc,CACZ/D,WACAqC,gBAAiByB,EAAWzB,gBAAgBE,KAAI,SAAC+C,EAAG/D,GAAJ,OAC9C8D,EAAcxD,MAAK,SAACoC,GAAD,OAAOA,IAAM1C,MAAY,YAAN+D,EAClC,WACAA,QAIVnF,aAAc,SAACyB,IACRsC,GAAejE,GAAW6D,EAAW9D,UAI1C+D,GAAc,kBAAmB,CAC/B/D,SADY,EAAGA,SAEfqC,gBAAiByB,EAAWzB,gBAAgBE,KAAI,SAAC+C,EAAG/D,GAClD,OAAIA,IAAMK,EACD0D,EAGI,YAANA,EAAkB,SAAW,4BC9FvCC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.8045e8f8.chunk.js","sourcesContent":["import { CSSProperties, useEffect, useState } from \"react\";\nimport { styled } from \"../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport timerIcon from \"../images/timer_black_24dp.svg\";\n\nexport type ITimerStatus = \"running\" | \"stopped\";\n\nexport interface ITimerProps {\n  status: ITimerStatus;\n  style?: CSSProperties;\n}\n\nlet timerId: NodeJS.Timeout;\n\nconst styles = styled({\n  root: { backgroundColor: \"#12161F\", padding: 2, borderRadius: 4 },\n  timer: {\n    backgroundColor: \"#12161F\",\n  },\n  content: {\n    height: 40,\n    width: 40,\n    borderRadius: 4,\n    backgroundColor: \"#4b505b\",\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n    color: \"white\",\n  },\n});\n\nexport const Timer = ({ status, style }: ITimerProps) => {\n  const [time, setTime] = useState<number>(0);\n\n  useEffect(() => {\n    if (status === \"running\") {\n      timerId = setInterval(() => {\n        setTime((seconds) => seconds + 1);\n      }, 1000);\n    }\n\n    if (status === \"stopped\") {\n      clearInterval(timerId);\n    }\n\n    return () => clearInterval(timerId);\n  }, [status]);\n\n  const seconds = `${time % 60}`.padStart(2, \"0\");\n  const minutes = `${Math.floor(time / 60)}`.padStart(2, \"0\");\n\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div className={css(styles.content, styles.timer)}>\n        <img src={timerIcon} />\n      </div>\n      <div className={css(styles.content)}>{minutes}</div>\n      <div className={css(styles.content)}>{seconds}</div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/red-flag.083d31fd.svg\";","import { CSSProperties, useEffect, useState } from \"react\";\nimport { styled } from \"../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport redFlag from \"../images/red-flag.svg\";\n\nexport interface IRemainingFlagsCountProps {\n  count: number;\n  style?: CSSProperties;\n}\n\nconst styles = styled({\n  root: { backgroundColor: \"#12161F\", padding: 2, borderRadius: 4 },\n  flagIcon: {\n    backgroundColor: \"#12161F\",\n  },\n  content: {\n    height: 40,\n    width: 40,\n    borderRadius: 4,\n    backgroundColor: \"#4b505b\",\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n    color: \"white\",\n  },\n});\n\nexport const RemainingFlagsCount = ({\n  count,\n  style,\n}: IRemainingFlagsCountProps) => {\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div className={css(styles.content)}>{count}</div>\n      <div className={css(styles.content, styles.flagIcon)}>\n        <img src={redFlag} width={24} height={24} />\n      </div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/timer_black_24dp.280c283b.svg\";","import { ITileVisibilityState } from \"../interfaces/IBoardState\";\nimport { styled } from \"../../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport redFlag from \"../../images/red-flag.svg\";\nimport explosion from \"../images/icons8-explosion-24.png\";\nimport { CSSProperties } from \"react\";\n\nconst styles = styled({\n  root: {\n    height: 40,\n    width: 40,\n  },\n  content: {\n    backgroundColor: \"#3D7CEB\",\n    borderRadius: 4,\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n  },\n  clickable: {\n    cursor: \"pointer\",\n  },\n  unveiled: {\n    backgroundColor: \"#4b505b\",\n  },\n  flagged: {\n    backgroundColor: \"#edc9af\",\n  },\n  mine: {\n    backgroundColor: \"#CD5F66\",\n  },\n  flag: {\n    width: 24,\n    height: 24,\n  },\n  nearbyMines: {\n    fontWeight: \"bolder\",\n    fontSize: 16,\n  },\n});\n\nconst getColorForNearbyMines = (nearbyMines: number) => {\n  switch (nearbyMines) {\n    case 1:\n      return \"#77dd77\";\n    case 2:\n      return \"#e3fd96\";\n    case 3:\n      return \"#fdfd96\";\n    default:\n      return \"#fd9696\";\n  }\n};\n\nexport interface ITileProps {\n  gameOver: boolean;\n  gameWon: boolean;\n  isMine: boolean;\n  visibility: ITileVisibilityState;\n  nearbyMines: number;\n  style: CSSProperties;\n  onClick: () => void;\n  onRightClick: () => void;\n}\n\nexport const Tile = ({\n  isMine,\n  visibility,\n  nearbyMines,\n  gameOver,\n  gameWon,\n  style,\n  onClick,\n  onRightClick,\n}: ITileProps) => {\n  const isUnveiled = visibility === \"unveiled\";\n  const isFlagged = visibility === \"flagged\";\n\n  const cancelEventAndCallHandler = (\n    clickHandler: () => void\n  ): React.MouseEventHandler<HTMLDivElement> => (e) => {\n    e.preventDefault();\n    clickHandler();\n  };\n\n  const canClick = !(gameOver || gameWon) && !isUnveiled && !isFlagged;\n  const clickHandler = cancelEventAndCallHandler(canClick ? onClick : () => {});\n  const rightClickHandler = cancelEventAndCallHandler(\n    !(gameOver || gameWon) && !isUnveiled ? onRightClick : () => {}\n  );\n\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div\n        className={css([\n          styles.content,\n          isUnveiled && styles.unveiled,\n          isFlagged && styles.flagged,\n          canClick && styles.clickable,\n        ])}\n        onClick={clickHandler}\n        onContextMenu={rightClickHandler}\n      >\n        {isFlagged && (\n          <img src={redFlag} className={css(styles.flag)} alt=\"Flagged\" />\n        )}\n        {gameOver && visibility !== \"flagged\" && isMine && (\n          <img src={explosion} alt=\"Mine exploded\" />\n        )}\n        {isUnveiled && !isMine && nearbyMines !== 0 && (\n          <span\n            className={css([styles.nearbyMines], {\n              color: getColorForNearbyMines(nearbyMines),\n            })}\n          >\n            {nearbyMines}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAEUklEQVRIie2TXUxbZRjH/+ezPafn9Ou0pUBbKGtpWR3lY3NjYwMlLG7R6BKJ8SvxY1nMYoxRr4hX3pgtMV4YNTPTEC9GMhJuZlyciolzEtwMHYMNSgdjfG2lVCg9Pf06rRdkDTKXoMmu9Ll9////73mf932A/1B1Uc3exvf/qYvcqtDlGq+iSOL4QwNYtEzwkKXMUFvbGHwoADvDtr5c4eT9nPbovwLs9TcfrKz0Sw8SGhjWaWFZVLJc01aCW3y7nnA4gpUlAENSvlabdbhz+6Ndf2fQs7QFAB4R9R6n01fxoGC/P1h7JNh6jqXxhVYrx0qA2bT6dYNeX3izuubU0/V7e8vK6nV/AVC0FQAOSlabX298fXOwNRAQnm1o/fQ1m+un7hrvYR1Ffx6JRDIlwNTU76thWQ63mSymj/07nnvGJV3a79u5DwA8Ho/ertGYAMDKauDguAMbsskng3veeUksHzpZGzh+zFlV8dX8zOiMmvgIAOiNXdxW0j8sZtKd5RotcaI2EOyPLpzlGabvlqL0+XnRck/n5niPz+cTy0mhw8kJ3W9VuYNeXmABYDIl528qqZ6xsbEsAFAbAZTBGjbQ9PNNeoMeAOp0othsMDaH1lY6XqhwWCmGBA0CEsPqQ6vJp96u9r76hrPaLTFsKefkdCR0dth+FLhevO8Gkcjw0g2jIQLAkSRVMEUSNRzPnKlvrgGAITYBKc/Cy+vI3vqdOwBgQqMgpapozAu4nkxkJ5W108CAWprf5sdayGQuLmUzyBPAOfMypjTp0pnWpEHSVAQA3KWyuOJQoNmlg6/IAQC+XLg9MjB6+dTGvPsAY3LiwoVYNGZUKdSa9TB3mPCbJCOLAkiBBKwULksy0K5D2+MOmKMEeJXC1bUVZTqhfAagsDGPBrqoJt9Em0MrvOjQaAM79UZPp2STAEC9m0dlC4+Kw04MDt+FTmRQ5zaBpdf7mo+mwE2vT+P03OzowMRQz+aG6Za6mx+2GGzHumt8BpogAAAqAdwR8qBFEsl0DoKWwd4me8l0Mapgv41DIizDmFuHtZnNbsvuzuHlXHbmTjY9NpOS+ydclhA1F1v8XiOaxkeTa4EG0WCTuQIRDhTg22eF22sAS69/kG+mVqChKSxrtUhrGdgKKkKTcfxRzCNfLGAPb+LbzRb7IWuZr1Oy7Q8rchcXT3IUANyKLY4vkvaeq0rURmXhCOYEYVxOwl7Og6ZIFItFzGaL0NdVwlZjxXI0idSqjN0BCa7tBuQcNHpn5+BXOUzJSv7E9MS1W6n0K79OXOkhNs9sj7d5t1cUPnnXva0pYScoS4OIa0oejY/VwbPNWtLNL6zg0vkRHCjjERpcQt0dBmfm5id/Xon1fnfN9QHQpwKbFg0A5uKL80yFpWcoGhfbaZORjRbyGgEsrWSIaCJD2CQd4rE1TP8SKTrSai4+uBqvijFL742P/di/MnskdGPk23tL9n9tqf4Eyd6AmHytescAAAAASUVORK5CYII=\"","import { IBoard } from \"./interfaces/IBoardState\";\n\nexport const getBoardSize = (board: IBoard) => Math.sqrt(board.tiles.length);\n","import { IBoard } from \"./interfaces/IBoardState\";\nimport { getBoardSize } from \"./getBoardSize\";\n\nexport function getNearbyTiles(\n  boardOrBoardSize: IBoard | number,\n  position: number\n): number[] {\n  if (typeof boardOrBoardSize !== \"number\") {\n    return getNearbyTiles(getBoardSize(boardOrBoardSize), position);\n  }\n\n  const boardSize = boardOrBoardSize;\n\n  const i = Math.floor(position / boardSize);\n  const j = position % boardSize;\n\n  return [\n    [i - 1, j - 1],\n    [i, j - 1],\n    [i + 1, j - 1],\n    [i - 1, j],\n    [i + 1, j],\n    [i - 1, j + 1],\n    [i, j + 1],\n    [i + 1, j + 1],\n  ].reduce((acc, curr) => {\n    const [i, j] = curr;\n\n    if (i < 0 || j < 0 || i >= boardSize || j >= boardSize) {\n      return acc;\n    }\n\n    const index = i * boardSize + j;\n\n    if (acc.some((nDI) => nDI === index)) {\n      return acc;\n    }\n\n    return acc.concat(index);\n  }, []);\n}\n","import { IBoard } from \"./interfaces/IBoardState\";\nimport { getNearbyTiles } from \"./getNearbyTiles\";\n\nexport const getNearbyMines = (board: IBoard, position: number) => {\n  return getNearbyTiles(board, position).reduce(\n    (acc, p) => acc + (board.tiles[p].isMine ? 1 : 0),\n    0\n  );\n};\n","import { IBoard, IBoardState } from \"../interfaces/IBoardState\";\nimport { Tile } from \"./Tile\";\nimport { styled } from \"../../interfaces/Styles\";\nimport { getBoardSize } from \"../getBoardSize\";\nimport { getNearbyMines } from \"../getNearbyMines\";\n\nconst styles = styled({\n  root: {\n    backgroundColor: \"#12161F\",\n    borderRadius: 4,\n    padding: 2,\n    flexWrap: \"wrap\",\n  },\n});\n\nexport interface IBoardProps {\n  board: IBoard;\n  state: IBoardState;\n  gameWon: boolean;\n  onClick: (index: number) => void;\n  onRightClick: (index: number) => void;\n}\n\nexport const Board = ({\n  board,\n  state,\n  gameWon,\n  onClick,\n  onRightClick,\n}: IBoardProps) => {\n  const { visibilityState } = state;\n\n  const boardSize = getBoardSize(board);\n  const childFlex = `1 0 ${100 / boardSize}%`;\n\n  return (\n    <div\n      style={{ ...styles.root, width: boardSize * 40 + (boardSize + 1) * 1 }}\n    >\n      {board.tiles.map((tile, i) => {\n        const { isMine } = tile;\n        const visibility = visibilityState[i];\n\n        return (\n          <Tile\n            key={i}\n            isMine={isMine}\n            visibility={visibility}\n            nearbyMines={getNearbyMines(board, i)}\n            gameWon={gameWon}\n            gameOver={state.gameOver}\n            style={{ flex: childFlex }}\n            onClick={() => {\n              onClick(i);\n            }}\n            onRightClick={() => onRightClick(i)}\n          />\n        );\n      })}\n    </div>\n  );\n};\n","import { getNearbyTiles } from \"./getNearbyTiles\";\nimport { IBoard } from \"./interfaces/IBoardState\";\n\nconst getRandomInt = (max: number) => Math.floor(Math.random() * max);\n\nconst getRandomItem = <T>(items: T[]): T => {\n  return items[getRandomInt(items.length)];\n};\n\nexport const createBoard = (\n  size: number,\n  numberOfMines: number,\n  initialIndex: number\n): IBoard => {\n  if (numberOfMines > size * size - 9) {\n    throw new Error(\"Board cannot be full of mines\");\n  }\n\n  const initialIndexAndNearby = [initialIndex].concat(\n    getNearbyTiles(size, initialIndex)\n  );\n\n  let indicesToRandomlyPlaceMines = new Array(size * size)\n    .fill(0)\n    .map((_, i) => i)\n    .filter((_, i) => !initialIndexAndNearby.some((index) => index === i));\n\n  const mineIndices: number[] = [];\n  for (let i = 0; i < numberOfMines; ++i) {\n    const randomIndex = getRandomItem(indicesToRandomlyPlaceMines);\n    mineIndices.push(randomIndex);\n\n    indicesToRandomlyPlaceMines = indicesToRandomlyPlaceMines.filter(\n      (i) => i !== randomIndex\n    );\n  }\n\n  return {\n    tiles: new Array(size * size)\n      .fill(0)\n      .map((_, i) => i)\n      .map((i) => ({ isMine: mineIndices.includes(i) })),\n  };\n};\n","export const subtractArrayFromArray = <T>(source: T[], minus: T[]) => {\n  return source.filter((s) => !minus.some((m) => s === m));\n};\n","import { subtractArrayFromArray } from \"../utils/arrays\";\nimport { getNearbyMines } from \"./getNearbyMines\";\nimport { getNearbyTiles } from \"./getNearbyTiles\";\nimport { IBoard } from \"./interfaces/IBoardState\";\n\nexport const getTouchingEmptyTiles = (\n  board: IBoard,\n  position: number,\n  visitedTiles: number[] = [position]\n): number[] => {\n  const adjacentTiles = getNearbyTiles(board, position);\n  const nonMineTiles = adjacentTiles.filter(\n    (index) => !board.tiles[index].isMine\n  );\n\n  const nonVisitedNonMineTiles = subtractArrayFromArray(\n    nonMineTiles,\n    visitedTiles\n  );\n\n  let updatedVisitedTiles = visitedTiles.concat(nonVisitedNonMineTiles);\n\n  // console.log({ position, nonVisitedNonMineTiles, updatedVisitedTiles });\n\n  // let touchingEmptyTiles: number[] = nonVisitedEmptyTiles;\n  // nonVisitedEmptyTiles.forEach((index) => {\n  //   touchingEmptyTiles = touchingEmptyTiles.concat(\n  //     getTouchingEmptyTiles(board, index, updatedVisitedTiles)\n  //   );\n  //   // updatedVisitedTiles = updatedVisitedTiles.concat(touchingEmptyTiles);\n  // });\n  // return touchingEmptyTiles;\n\n  return nonVisitedNonMineTiles.reduce((acc, curr) => {\n    const numberOfMinesNearby = getNearbyMines(board, curr);\n\n    if (numberOfMinesNearby !== 0) {\n      return acc;\n    }\n\n    const touchingTiles = getTouchingEmptyTiles(\n      board,\n      curr,\n      updatedVisitedTiles\n    );\n    updatedVisitedTiles = updatedVisitedTiles.concat(touchingTiles);\n    return acc.concat(touchingTiles);\n  }, nonVisitedNonMineTiles);\n};\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport { RemainingFlagsCount } from \"./components/FlaggedTilesCount\";\nimport { Timer } from \"./components/Timer\";\nimport { Board } from \"./game/components/Board\";\nimport { createBoard } from \"./game/createBoard\";\nimport { getTouchingEmptyTiles } from \"./game/getTouchingEmptyTiles\";\nimport { IBoard, IBoardState } from \"./game/interfaces/IBoardState\";\n\n// TODO: Add modal for attribution for the flag icon and the several other resources I'm going to need\n// <div>Icons made by <a href=\"https://www.flaticon.com/authors/alfredo-hernandez\" title=\"Alfredo Hernandez\">Alfredo Hernandez</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\n// <a target=\"_blank\" href=\"undefined/icons/set/explosion\">Explosion icon</a> icon by <a target=\"_blank\" href=\"\">Icons8</a>\nfunction App() {\n  const [boardSize, setBoardSize] = useState(10);\n\n  const [board, setBoard] = useState<IBoard>({\n    tiles: new Array(boardSize * boardSize)\n      .fill(0)\n      .map(() => ({ isMine: false })),\n  });\n\n  const [boardState, setBoardState] = useState<IBoardState>({\n    gameOver: false,\n    visibilityState: board.tiles.map(() => \"hidden\"),\n  });\n\n  const gameWon = board.tiles.every((t, i) =>\n    t.isMine ? true : boardState.visibilityState[i] === \"unveiled\"\n  );\n\n  const [gameStarted, setGameStarted] = useState(false);\n\n  const flaggedTilesCount = boardState.visibilityState.reduce(\n    (acc, curr) => (curr === \"flagged\" ? acc + 1 : acc),\n    0\n  );\n  const numberOfMines = board.tiles.reduce(\n    (acc, curr) => (curr.isMine ? acc + 1 : acc),\n    0\n  );\n  const numberOfFlagsLeft = gameStarted ? numberOfMines - flaggedTilesCount : 0;\n\n  return (\n    <div className=\"App\">\n      <div\n        style={{\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flex: 1,\n        }}\n      >\n        <div\n          style={{\n            flexDirection: \"column\",\n          }}\n        >\n          <div style={{ marginBottom: 8, justifyContent: \"space-between\" }}>\n            <Timer\n              status={\n                gameStarted && !(boardState.gameOver || gameWon)\n                  ? \"running\"\n                  : \"stopped\"\n              }\n            />\n            <RemainingFlagsCount count={numberOfFlagsLeft} />\n          </div>\n          <Board\n            board={board}\n            state={boardState}\n            gameWon={gameWon}\n            onClick={(index) => {\n              let maybeUpdatedBoard = board;\n\n              if (!gameStarted) {\n                maybeUpdatedBoard = createBoard(boardSize, 40, index);\n                setBoard(maybeUpdatedBoard);\n                setGameStarted(true);\n              }\n\n              const gameOver = maybeUpdatedBoard.tiles[index].isMine;\n\n              const tilesToUnveil = gameOver\n                ? [index]\n                : [index].concat(\n                    getTouchingEmptyTiles(maybeUpdatedBoard, index)\n                  );\n\n              setBoardState({\n                gameOver,\n                visibilityState: boardState.visibilityState.map((v, i) =>\n                  tilesToUnveil.some((t) => t === i) && v !== \"flagged\"\n                    ? \"unveiled\"\n                    : v\n                ),\n              });\n            }}\n            onRightClick={(index) => {\n              if (!gameStarted || gameWon || boardState.gameOver) {\n                return;\n              }\n\n              setBoardState(({ gameOver }) => ({\n                gameOver,\n                visibilityState: boardState.visibilityState.map((v, i) => {\n                  if (i !== index) {\n                    return v;\n                  }\n\n                  return v === \"flagged\" ? \"hidden\" : \"flagged\";\n                }),\n              }));\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}