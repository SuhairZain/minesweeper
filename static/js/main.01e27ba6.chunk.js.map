{"version":3,"sources":["components/Timer.tsx","images/red-flag.svg","components/FlaggedTilesCount.tsx","images/restart.svg","components/LevelAndRestartButton.tsx","images/timer_black_24dp.svg","game/components/Tile.tsx","game/images/icons8-explosion-24.png","game/getBoardSize.ts","game/getNearbyTiles.ts","game/getNearbyMines.ts","game/interfaces/IBoardState.tsx","game/components/Board.tsx","game/createBoard.ts","utils/arrays.ts","game/getTouchingEmptyTiles.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["timerId","styles","root","backgroundColor","padding","borderRadius","flagIcon","content","height","width","margin","alignItems","justifyContent","flex","alignSelf","color","RemainingFlagsCount","count","style","className","css","src","redFlag","paddingLeft","level","restartButton","cursor","marginLeft","LevelAndRestartButton","currentLevel","onRestartClick","onClick","restartIcon","timer","Timer","status","useState","time","setTime","useEffect","setInterval","seconds","clearInterval","padStart","minutes","Math","floor","timerIcon","clickable","unveiled","flagged","mine","flag","nearbyMines","fontWeight","fontSize","getColorForNearbyMines","Tile","isMine","visibility","gameOver","gameWon","onRightClick","isUnveiled","isFlagged","cancelEventAndCallHandler","clickHandler","e","preventDefault","canClick","rightClickHandler","onContextMenu","alt","getBoardSize","board","size","getNearbyTiles","boardOrBoardSize","position","Array","isArray","isSizeTuple","boardSize","i","j","reduce","acc","curr","index","some","nDI","concat","IGameLevelTitle","getNearbyMines","p","tiles","flexWrap","Board","state","visibilityState","childFlex","map","tile","getRandomItem","items","max","length","random","subtractArrayFromArray","source","minus","filter","s","m","getTouchingEmptyTiles","visitedTiles","adjacentTiles","nonMineTiles","nonVisitedNonMineTiles","updatedVisitedTiles","touchingTiles","levels","Hard","mines","getInitialBoardState","App","levelSpecs","fill","setBoard","boardState","setBoardState","every","t","gameStarted","v","flaggedTilesCount","numberOfFlagsLeft","flexDirection","marginBottom","maybeUpdatedBoard","initialIndex","Error","initialIndexAndNearby","indicesToRandomlyPlaceMines","_","mineIndices","randomIndex","push","includes","createBoard","tilesToUnveil","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01e27ba6.chunk.js","sourcesContent":["import { CSSProperties, useEffect, useState } from \"react\";\nimport { styled } from \"../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport timerIcon from \"../images/timer_black_24dp.svg\";\n\nexport type ITimerStatus = \"running\" | \"stopped\";\n\nexport interface ITimerProps {\n  status: ITimerStatus;\n  style?: CSSProperties;\n}\n\nlet timerId: NodeJS.Timeout;\n\nconst styles = styled({\n  root: { backgroundColor: \"#12161F\", padding: 2, borderRadius: 4 },\n  timer: {\n    backgroundColor: \"#12161F\",\n  },\n  content: {\n    height: 40,\n    width: 40,\n    borderRadius: 4,\n    backgroundColor: \"#4b505b\",\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n    color: \"white\",\n  },\n});\n\nexport const Timer = ({ status, style }: ITimerProps) => {\n  const [time, setTime] = useState<number>(0);\n\n  useEffect(() => {\n    if (status === \"running\") {\n      timerId = setInterval(() => {\n        setTime((seconds) => seconds + 1);\n      }, 1000);\n    }\n\n    if (status === \"stopped\") {\n      clearInterval(timerId);\n    }\n\n    return () => clearInterval(timerId);\n  }, [status]);\n\n  const seconds = `${time % 60}`.padStart(2, \"0\");\n  const minutes = `${Math.floor(time / 60)}`.padStart(2, \"0\");\n\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div className={css(styles.content, styles.timer)}>\n        <img src={timerIcon} />\n      </div>\n      <div className={css(styles.content)}>{minutes}</div>\n      <div className={css(styles.content)}>{seconds}</div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/red-flag.083d31fd.svg\";","import { CSSProperties, useEffect, useState } from \"react\";\nimport { styled } from \"../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport redFlag from \"../images/red-flag.svg\";\n\nexport interface IRemainingFlagsCountProps {\n  count: number;\n  style?: CSSProperties;\n}\n\nconst styles = styled({\n  root: { backgroundColor: \"#12161F\", padding: 2, borderRadius: 4 },\n  flagIcon: {\n    backgroundColor: \"#12161F\",\n  },\n  content: {\n    height: 40,\n    width: 40,\n    borderRadius: 4,\n    backgroundColor: \"#4b505b\",\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n    color: \"white\",\n  },\n});\n\nexport const RemainingFlagsCount = ({\n  count,\n  style,\n}: IRemainingFlagsCountProps) => {\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div className={css(styles.content)}>{count}</div>\n      <div className={css(styles.content, styles.flagIcon)}>\n        <img src={redFlag} width={24} height={24} />\n      </div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/restart.b8c48c21.svg\";","import { CSSProperties } from \"react\";\nimport { styled } from \"../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport restartIcon from \"../images/restart.svg\";\nimport { IGameLevels, IGameLevelTitle } from \"../game/interfaces/IBoardState\";\n\nexport interface ILevelAndRestartButtonProps {\n  currentLevel: IGameLevelTitle;\n  levels: IGameLevels;\n  style?: CSSProperties;\n  onRestartClick: () => void;\n}\n\nconst styles = styled({\n  root: {\n    backgroundColor: \"#12161F\",\n    padding: 2,\n    paddingLeft: 3,\n    borderRadius: 4,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  level: {\n    color: \"white\",\n    width: 120,\n    paddingLeft: 8,\n    backgroundColor: \"#4b505b\",\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    borderRadius: 4,\n    height: 40,\n  },\n  restartButton: {\n    height: 40,\n    width: 40,\n    borderRadius: 4,\n    margin: 1,\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"white\",\n    backgroundColor: \"#3D7CEB\",\n    cursor: \"pointer\",\n    marginLeft: 2,\n  },\n});\n\nexport const LevelAndRestartButton = ({\n  currentLevel,\n  style,\n  onRestartClick,\n}: ILevelAndRestartButtonProps) => {\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div className={css(styles.level)}>{currentLevel}</div>\n      <div className={css(styles.restartButton)} onClick={onRestartClick}>\n        <img src={restartIcon} width={24} height={24} />\n      </div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/timer_black_24dp.280c283b.svg\";","import { ITileVisibilityState } from \"../interfaces/IBoardState\";\nimport { styled } from \"../../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport redFlag from \"../../images/red-flag.svg\";\nimport explosion from \"../images/icons8-explosion-24.png\";\nimport { CSSProperties } from \"react\";\n\nconst styles = styled({\n  root: {\n    height: 40,\n    width: 40,\n  },\n  content: {\n    backgroundColor: \"#3D7CEB\",\n    borderRadius: 4,\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n  },\n  clickable: {\n    cursor: \"pointer\",\n  },\n  unveiled: {\n    backgroundColor: \"#4b505b\",\n  },\n  flagged: {\n    backgroundColor: \"#edc9af\",\n  },\n  mine: {\n    backgroundColor: \"#CD5F66\",\n  },\n  flag: {\n    width: 24,\n    height: 24,\n  },\n  nearbyMines: {\n    fontWeight: \"bolder\",\n    fontSize: 16,\n  },\n});\n\nconst getColorForNearbyMines = (nearbyMines: number) => {\n  switch (nearbyMines) {\n    case 1:\n      return \"#77dd77\";\n    case 2:\n      return \"#e3fd96\";\n    case 3:\n      return \"#fdfd96\";\n    default:\n      return \"#fd9696\";\n  }\n};\n\nexport interface ITileProps {\n  gameOver: boolean;\n  gameWon: boolean;\n  isMine: boolean;\n  visibility: ITileVisibilityState;\n  nearbyMines: number;\n  style: CSSProperties;\n  onClick: () => void;\n  onRightClick: () => void;\n}\n\nexport const Tile = ({\n  isMine,\n  visibility,\n  nearbyMines,\n  gameOver,\n  gameWon,\n  style,\n  onClick,\n  onRightClick,\n}: ITileProps) => {\n  const isUnveiled = visibility === \"unveiled\";\n  const isFlagged = visibility === \"flagged\";\n\n  const cancelEventAndCallHandler = (\n    clickHandler: () => void\n  ): React.MouseEventHandler<HTMLDivElement> => (e) => {\n    e.preventDefault();\n    clickHandler();\n  };\n\n  const canClick = !(gameOver || gameWon) && !isUnveiled && !isFlagged;\n  const clickHandler = cancelEventAndCallHandler(canClick ? onClick : () => {});\n  const rightClickHandler = cancelEventAndCallHandler(\n    !(gameOver || gameWon) && !isUnveiled ? onRightClick : () => {}\n  );\n\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div\n        className={css([\n          styles.content,\n          isUnveiled && styles.unveiled,\n          isFlagged && styles.flagged,\n          canClick && styles.clickable,\n        ])}\n        onClick={clickHandler}\n        onContextMenu={rightClickHandler}\n      >\n        {isFlagged && (\n          <img src={redFlag} className={css(styles.flag)} alt=\"Flagged\" />\n        )}\n        {gameOver && visibility !== \"flagged\" && isMine && (\n          <img src={explosion} alt=\"Mine exploded\" />\n        )}\n        {isUnveiled && !isMine && nearbyMines !== 0 && (\n          <span\n            className={css([styles.nearbyMines], {\n              color: getColorForNearbyMines(nearbyMines),\n            })}\n          >\n            {nearbyMines}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAEUklEQVRIie2TXUxbZRjH/+ezPafn9Ou0pUBbKGtpWR3lY3NjYwMlLG7R6BKJ8SvxY1nMYoxRr4hX3pgtMV4YNTPTEC9GMhJuZlyciolzEtwMHYMNSgdjfG2lVCg9Pf06rRdkDTKXoMmu9Ll9////73mf932A/1B1Uc3exvf/qYvcqtDlGq+iSOL4QwNYtEzwkKXMUFvbGHwoADvDtr5c4eT9nPbovwLs9TcfrKz0Sw8SGhjWaWFZVLJc01aCW3y7nnA4gpUlAENSvlabdbhz+6Ndf2fQs7QFAB4R9R6n01fxoGC/P1h7JNh6jqXxhVYrx0qA2bT6dYNeX3izuubU0/V7e8vK6nV/AVC0FQAOSlabX298fXOwNRAQnm1o/fQ1m+un7hrvYR1Ffx6JRDIlwNTU76thWQ63mSymj/07nnvGJV3a79u5DwA8Ho/ertGYAMDKauDguAMbsskng3veeUksHzpZGzh+zFlV8dX8zOiMmvgIAOiNXdxW0j8sZtKd5RotcaI2EOyPLpzlGabvlqL0+XnRck/n5niPz+cTy0mhw8kJ3W9VuYNeXmABYDIl528qqZ6xsbEsAFAbAZTBGjbQ9PNNeoMeAOp0othsMDaH1lY6XqhwWCmGBA0CEsPqQ6vJp96u9r76hrPaLTFsKefkdCR0dth+FLhevO8Gkcjw0g2jIQLAkSRVMEUSNRzPnKlvrgGAITYBKc/Cy+vI3vqdOwBgQqMgpapozAu4nkxkJ5W108CAWprf5sdayGQuLmUzyBPAOfMypjTp0pnWpEHSVAQA3KWyuOJQoNmlg6/IAQC+XLg9MjB6+dTGvPsAY3LiwoVYNGZUKdSa9TB3mPCbJCOLAkiBBKwULksy0K5D2+MOmKMEeJXC1bUVZTqhfAagsDGPBrqoJt9Em0MrvOjQaAM79UZPp2STAEC9m0dlC4+Kw04MDt+FTmRQ5zaBpdf7mo+mwE2vT+P03OzowMRQz+aG6Za6mx+2GGzHumt8BpogAAAqAdwR8qBFEsl0DoKWwd4me8l0Mapgv41DIizDmFuHtZnNbsvuzuHlXHbmTjY9NpOS+ydclhA1F1v8XiOaxkeTa4EG0WCTuQIRDhTg22eF22sAS69/kG+mVqChKSxrtUhrGdgKKkKTcfxRzCNfLGAPb+LbzRb7IWuZr1Oy7Q8rchcXT3IUANyKLY4vkvaeq0rURmXhCOYEYVxOwl7Og6ZIFItFzGaL0NdVwlZjxXI0idSqjN0BCa7tBuQcNHpn5+BXOUzJSv7E9MS1W6n0K79OXOkhNs9sj7d5t1cUPnnXva0pYScoS4OIa0oejY/VwbPNWtLNL6zg0vkRHCjjERpcQt0dBmfm5id/Xon1fnfN9QHQpwKbFg0A5uKL80yFpWcoGhfbaZORjRbyGgEsrWSIaCJD2CQd4rE1TP8SKTrSai4+uBqvijFL742P/di/MnskdGPk23tL9n9tqf4Eyd6AmHytescAAAAASUVORK5CYII=\"","import { IBoard } from \"./interfaces/IBoardState\";\n\nexport const getBoardSize = (board: IBoard) => board.size;\n","import { IBoard, IBoardSize } from \"./interfaces/IBoardState\";\nimport { getBoardSize } from \"./getBoardSize\";\n\nconst isSizeTuple = (\n  boardOrBoardSize: IBoard | IBoardSize\n): boardOrBoardSize is IBoardSize => {\n  return Array.isArray(boardOrBoardSize);\n};\n\nexport function getNearbyTiles(\n  boardOrBoardSize: IBoard | IBoardSize,\n  position: number\n): number[] {\n  if (!isSizeTuple(boardOrBoardSize)) {\n    return getNearbyTiles(getBoardSize(boardOrBoardSize), position);\n  }\n\n  const boardSize = boardOrBoardSize;\n\n  const i = Math.floor(position / boardSize[1]);\n  const j = position % boardSize[1];\n\n  const tiles = [\n    [i - 1, j - 1],\n    [i, j - 1],\n    [i + 1, j - 1],\n    [i - 1, j],\n    [i + 1, j],\n    [i - 1, j + 1],\n    [i, j + 1],\n    [i + 1, j + 1],\n  ];\n\n  return tiles.reduce((acc, curr) => {\n    const [i, j] = curr;\n\n    if (i < 0 || j < 0 || i >= boardSize[0] || j >= boardSize[1]) {\n      return acc;\n    }\n\n    const index = i * boardSize[1] + j;\n\n    if (acc.some((nDI) => nDI === index)) {\n      return acc;\n    }\n\n    return acc.concat(index);\n  }, []);\n}\n","import { IBoard } from \"./interfaces/IBoardState\";\nimport { getNearbyTiles } from \"./getNearbyTiles\";\n\nexport const getNearbyMines = (board: IBoard, position: number) => {\n  return getNearbyTiles(board, position).reduce(\n    (acc, p) => acc + (board.tiles[p].isMine ? 1 : 0),\n    0\n  );\n};\n","export type ITileVisibilityState = \"hidden\" | \"unveiled\" | \"flagged\";\n\nexport interface ITile {\n  isMine: boolean;\n}\n\nexport type IBoardSize = [number, number];\n\nexport interface IGameLevel {\n  size: IBoardSize;\n  mines: number;\n}\n\nexport enum IGameLevelTitle {\n  Hard = \"Hard\",\n}\n\nexport type IGameLevels = Record<IGameLevelTitle, IGameLevel>;\n\nexport interface IBoard {\n  tiles: ITile[];\n  size: IBoardSize;\n}\n\nexport interface IBoardState {\n  visibilityState: ITileVisibilityState[];\n  gameOver: boolean;\n}\n","import { IBoard, IBoardState } from \"../interfaces/IBoardState\";\nimport { Tile } from \"./Tile\";\nimport { styled } from \"../../interfaces/Styles\";\nimport { getBoardSize } from \"../getBoardSize\";\nimport { getNearbyMines } from \"../getNearbyMines\";\n\nconst styles = styled({\n  root: {\n    backgroundColor: \"#12161F\",\n    borderRadius: 4,\n    padding: 2,\n    flexWrap: \"wrap\",\n  },\n});\n\nexport interface IBoardProps {\n  board: IBoard;\n  state: IBoardState;\n  gameWon: boolean;\n  onClick: (index: number) => void;\n  onRightClick: (index: number) => void;\n}\n\nexport const Board = ({\n  board,\n  state,\n  gameWon,\n  onClick,\n  onRightClick,\n}: IBoardProps) => {\n  const { visibilityState } = state;\n\n  const boardSize = getBoardSize(board);\n  const childFlex = `1 0 ${100 / boardSize[1]}%`;\n\n  return (\n    <div\n      style={{\n        ...styles.root,\n        width: boardSize[1] * 40 + (boardSize[1] + 1) * 1,\n      }}\n    >\n      {board.tiles.map((tile, i) => {\n        const { isMine } = tile;\n        const visibility = visibilityState[i];\n\n        return (\n          <Tile\n            key={i}\n            isMine={isMine}\n            visibility={visibility}\n            nearbyMines={getNearbyMines(board, i)}\n            gameWon={gameWon}\n            gameOver={state.gameOver}\n            style={{ flex: childFlex }}\n            onClick={() => {\n              onClick(i);\n            }}\n            onRightClick={() => onRightClick(i)}\n          />\n        );\n      })}\n    </div>\n  );\n};\n","import { getNearbyTiles } from \"./getNearbyTiles\";\nimport { IBoard, IBoardSize, IGameLevel } from \"./interfaces/IBoardState\";\n\nconst getRandomInt = (max: number) => Math.floor(Math.random() * max);\n\nconst getRandomItem = <T>(items: T[]): T => {\n  return items[getRandomInt(items.length)];\n};\n\nexport const createBoard = (\n  level: IGameLevel,\n  initialIndex: number\n): IBoard => {\n  const { size, mines } = level;\n\n  if (mines > size[0] * size[1] - 9) {\n    throw new Error(\"Board cannot be full of mines\");\n  }\n\n  const initialIndexAndNearby = [initialIndex].concat(\n    getNearbyTiles(size, initialIndex)\n  );\n\n  let indicesToRandomlyPlaceMines = new Array(size[0] * size[1])\n    .fill(0)\n    .map((_, i) => i)\n    .filter((_, i) => !initialIndexAndNearby.some((index) => index === i));\n\n  const mineIndices: number[] = [];\n  for (let i = 0; i < mines; ++i) {\n    const randomIndex = getRandomItem(indicesToRandomlyPlaceMines);\n    mineIndices.push(randomIndex);\n\n    indicesToRandomlyPlaceMines = indicesToRandomlyPlaceMines.filter(\n      (i) => i !== randomIndex\n    );\n  }\n\n  return {\n    tiles: new Array(size[0] * size[1])\n      .fill(0)\n      .map((_, i) => i)\n      .map((i) => ({ isMine: mineIndices.includes(i) })),\n    size,\n  };\n};\n","export const subtractArrayFromArray = <T>(source: T[], minus: T[]) => {\n  return source.filter((s) => !minus.some((m) => s === m));\n};\n","import { subtractArrayFromArray } from \"../utils/arrays\";\nimport { getNearbyMines } from \"./getNearbyMines\";\nimport { getNearbyTiles } from \"./getNearbyTiles\";\nimport { IBoard } from \"./interfaces/IBoardState\";\n\nexport const getTouchingEmptyTiles = (\n  board: IBoard,\n  position: number,\n  visitedTiles: number[] = [position]\n): number[] => {\n  const adjacentTiles = getNearbyTiles(board, position);\n  const nonMineTiles = adjacentTiles.filter(\n    (index) => !board.tiles[index].isMine\n  );\n\n  const nonVisitedNonMineTiles = subtractArrayFromArray(\n    nonMineTiles,\n    visitedTiles\n  );\n\n  let updatedVisitedTiles = visitedTiles.concat(nonVisitedNonMineTiles);\n\n  // console.log({ position, nonVisitedNonMineTiles, updatedVisitedTiles });\n\n  // let touchingEmptyTiles: number[] = nonVisitedEmptyTiles;\n  // nonVisitedEmptyTiles.forEach((index) => {\n  //   touchingEmptyTiles = touchingEmptyTiles.concat(\n  //     getTouchingEmptyTiles(board, index, updatedVisitedTiles)\n  //   );\n  //   // updatedVisitedTiles = updatedVisitedTiles.concat(touchingEmptyTiles);\n  // });\n  // return touchingEmptyTiles;\n\n  return nonVisitedNonMineTiles.reduce((acc, curr) => {\n    const numberOfMinesNearby = getNearbyMines(board, curr);\n\n    if (numberOfMinesNearby !== 0) {\n      return acc;\n    }\n\n    const touchingTiles = getTouchingEmptyTiles(\n      board,\n      curr,\n      updatedVisitedTiles\n    );\n    updatedVisitedTiles = updatedVisitedTiles.concat(touchingTiles);\n    return acc.concat(touchingTiles);\n  }, nonVisitedNonMineTiles);\n};\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport { RemainingFlagsCount } from \"./components/FlaggedTilesCount\";\nimport { LevelAndRestartButton } from \"./components/LevelAndRestartButton\";\nimport { Timer } from \"./components/Timer\";\nimport { Board } from \"./game/components/Board\";\nimport { createBoard } from \"./game/createBoard\";\nimport { getTouchingEmptyTiles } from \"./game/getTouchingEmptyTiles\";\nimport {\n  IBoard,\n  IBoardState,\n  IGameLevels,\n  IGameLevelTitle,\n} from \"./game/interfaces/IBoardState\";\n\nconst levels: IGameLevels = {\n  [IGameLevelTitle.Hard]: { size: [20, 25], mines: 80 },\n};\n\nconst getInitialBoardState = (board: IBoard): IBoardState => ({\n  gameOver: false,\n  visibilityState: board.tiles.map(() => \"hidden\"),\n});\n\n// TODO: Add modal for attribution for the flag icon and the several other resources I'm going to need\n// <div>Icons made by <a href=\"https://www.flaticon.com/authors/alfredo-hernandez\" title=\"Alfredo Hernandez\">Alfredo Hernandez</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\n// <a target=\"_blank\" href=\"undefined/icons/set/explosion\">Explosion icon</a> icon by <a target=\"_blank\" href=\"\">Icons8</a>\nfunction App() {\n  const [level, setLevel] = useState<IGameLevelTitle>(IGameLevelTitle.Hard);\n  const levelSpecs = levels[level];\n  const boardSize = levelSpecs.size;\n\n  const [board, setBoard] = useState<IBoard>({\n    tiles: new Array(boardSize[0] * boardSize[1])\n      .fill(0)\n      .map(() => ({ isMine: false })),\n    size: boardSize,\n  });\n\n  const [boardState, setBoardState] = useState<IBoardState>(\n    getInitialBoardState(board)\n  );\n\n  const gameWon = board.tiles.every((t, i) =>\n    t.isMine ? true : boardState.visibilityState[i] === \"unveiled\"\n  );\n\n  const gameStarted = boardState.visibilityState.some((v) => v === \"unveiled\");\n\n  const flaggedTilesCount = boardState.visibilityState.reduce(\n    (acc, curr) => (curr === \"flagged\" ? acc + 1 : acc),\n    0\n  );\n\n  const numberOfFlagsLeft = levelSpecs.mines - flaggedTilesCount;\n\n  return (\n    <div className=\"App\">\n      <div\n        style={{\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flex: 1,\n        }}\n      >\n        <div\n          style={{\n            flexDirection: \"column\",\n          }}\n        >\n          <div style={{ marginBottom: 8, justifyContent: \"space-between\" }}>\n            <Timer\n              status={\n                gameStarted && !(boardState.gameOver || gameWon)\n                  ? \"running\"\n                  : \"stopped\"\n              }\n            />\n            <LevelAndRestartButton\n              currentLevel={level}\n              levels={levels}\n              onRestartClick={() => {\n                setBoardState(getInitialBoardState(board));\n              }}\n            />\n            <RemainingFlagsCount count={numberOfFlagsLeft} />\n          </div>\n          <Board\n            board={board}\n            state={boardState}\n            gameWon={gameWon}\n            onClick={(index) => {\n              let maybeUpdatedBoard = board;\n\n              if (!gameStarted) {\n                maybeUpdatedBoard = createBoard(levelSpecs, index);\n                setBoard(maybeUpdatedBoard);\n              }\n\n              const gameOver = maybeUpdatedBoard.tiles[index].isMine;\n\n              const tilesToUnveil = gameOver\n                ? [index]\n                : [index].concat(\n                    getTouchingEmptyTiles(maybeUpdatedBoard, index)\n                  );\n\n              setBoardState({\n                gameOver,\n                visibilityState: boardState.visibilityState.map((v, i) =>\n                  tilesToUnveil.some((t) => t === i) && v !== \"flagged\"\n                    ? \"unveiled\"\n                    : v\n                ),\n              });\n            }}\n            onRightClick={(index) => {\n              if (!gameStarted || gameWon || boardState.gameOver) {\n                return;\n              }\n\n              setBoardState(({ gameOver }) => ({\n                gameOver,\n                visibilityState: boardState.visibilityState.map((v, i) => {\n                  if (i !== index) {\n                    return v;\n                  }\n\n                  return v === \"flagged\" ? \"hidden\" : \"flagged\";\n                }),\n              }));\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}