(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),c=n(6),a=n.n(c),o=(n(11),n(3));n(12);var s,l=n(1),u=n.p+"static/media/red-flag.083d31fd.svg",d=n(0),f={root:{backgroundColor:"#12161F",padding:2,borderRadius:4},flagIcon:{backgroundColor:"#12161F"},content:{height:40,width:40,borderRadius:4,backgroundColor:"#4b505b",margin:1,alignItems:"center",justifyContent:"center",flex:1,alignSelf:"stretch",color:"white"}},b=function(e){var t=e.count,n=e.style;return Object(d.jsxs)("div",{className:Object(l.a)(f.root),style:n,children:[Object(d.jsx)("div",{className:Object(l.a)(f.content),children:t}),Object(d.jsx)("div",{className:Object(l.a)(f.content,f.flagIcon),children:Object(d.jsx)("img",{src:u,width:24,height:24})})]})},g=n.p+"static/media/timer_black_24dp.280c283b.svg",j={root:{backgroundColor:"#12161F",padding:2,borderRadius:4},timer:{backgroundColor:"#12161F"},content:{height:40,width:40,borderRadius:4,backgroundColor:"#4b505b",margin:1,alignItems:"center",justifyContent:"center",flex:1,alignSelf:"stretch",color:"white"}},v=function(e){var t=e.status,n=e.style,i=Object(r.useState)(0),c=Object(o.a)(i,2),a=c[0],u=c[1];Object(r.useEffect)((function(){return"running"===t&&(s=setInterval((function(){u((function(e){return e+1}))}),1e3)),"stopped"===t&&clearInterval(s),function(){return clearInterval(s)}}),[t]);var f="".concat(a%60).padStart(2,"0"),b="".concat(Math.floor(a/60)).padStart(2,"0");return Object(d.jsxs)("div",{className:Object(l.a)(j.root),style:n,children:[Object(d.jsx)("div",{className:Object(l.a)(j.content,j.timer),children:Object(d.jsx)("img",{src:g})}),Object(d.jsx)("div",{className:Object(l.a)(j.content),children:b}),Object(d.jsx)("div",{className:Object(l.a)(j.content),children:f})]})},m=n(5),O={root:{height:40,width:40},content:{backgroundColor:"#3D7CEB",borderRadius:4,margin:1,alignItems:"center",justifyContent:"center",flex:1,alignSelf:"stretch"},clickable:{cursor:"pointer"},unveiled:{backgroundColor:"#4b505b"},flagged:{backgroundColor:"#edc9af"},mine:{backgroundColor:"#CD5F66"},flag:{width:24,height:24},nearbyMines:{fontWeight:"bolder",fontSize:16}},h=function(e){switch(e){case 1:return"#77dd77";case 2:return"#e3fd96";case 3:return"#fdfd96";default:return"#fd9696"}},A=function(e){var t=e.isMine,n=e.visibility,r=e.nearbyMines,i=e.gameOver,c=e.gameWon,a=e.style,o=e.onClick,s=e.onRightClick,f="unveiled"===n,b="flagged"===n,g=function(e){return function(t){t.preventDefault(),e()}},j=!(i||c)&&!f&&!b,v=j?g(o):function(){},m=i||c||f?function(){}:g(s);return Object(d.jsx)("div",{className:Object(l.a)(O.root),style:a,children:Object(d.jsxs)("div",{className:Object(l.a)([O.content,f&&O.unveiled,b&&O.flagged,j&&O.clickable]),onClick:v,onContextMenu:m,children:[b&&Object(d.jsx)("img",{src:u,className:Object(l.a)(O.flag),alt:"Flagged"}),i&&"flagged"!==n&&t&&Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAEUklEQVRIie2TXUxbZRjH/+ezPafn9Ou0pUBbKGtpWR3lY3NjYwMlLG7R6BKJ8SvxY1nMYoxRr4hX3pgtMV4YNTPTEC9GMhJuZlyciolzEtwMHYMNSgdjfG2lVCg9Pf06rRdkDTKXoMmu9Ll9////73mf932A/1B1Uc3exvf/qYvcqtDlGq+iSOL4QwNYtEzwkKXMUFvbGHwoADvDtr5c4eT9nPbovwLs9TcfrKz0Sw8SGhjWaWFZVLJc01aCW3y7nnA4gpUlAENSvlabdbhz+6Ndf2fQs7QFAB4R9R6n01fxoGC/P1h7JNh6jqXxhVYrx0qA2bT6dYNeX3izuubU0/V7e8vK6nV/AVC0FQAOSlabX298fXOwNRAQnm1o/fQ1m+un7hrvYR1Ffx6JRDIlwNTU76thWQ63mSymj/07nnvGJV3a79u5DwA8Ho/ertGYAMDKauDguAMbsskng3veeUksHzpZGzh+zFlV8dX8zOiMmvgIAOiNXdxW0j8sZtKd5RotcaI2EOyPLpzlGabvlqL0+XnRck/n5niPz+cTy0mhw8kJ3W9VuYNeXmABYDIl528qqZ6xsbEsAFAbAZTBGjbQ9PNNeoMeAOp0othsMDaH1lY6XqhwWCmGBA0CEsPqQ6vJp96u9r76hrPaLTFsKefkdCR0dth+FLhevO8Gkcjw0g2jIQLAkSRVMEUSNRzPnKlvrgGAITYBKc/Cy+vI3vqdOwBgQqMgpapozAu4nkxkJ5W108CAWprf5sdayGQuLmUzyBPAOfMypjTp0pnWpEHSVAQA3KWyuOJQoNmlg6/IAQC+XLg9MjB6+dTGvPsAY3LiwoVYNGZUKdSa9TB3mPCbJCOLAkiBBKwULksy0K5D2+MOmKMEeJXC1bUVZTqhfAagsDGPBrqoJt9Em0MrvOjQaAM79UZPp2STAEC9m0dlC4+Kw04MDt+FTmRQ5zaBpdf7mo+mwE2vT+P03OzowMRQz+aG6Za6mx+2GGzHumt8BpogAAAqAdwR8qBFEsl0DoKWwd4me8l0Mapgv41DIizDmFuHtZnNbsvuzuHlXHbmTjY9NpOS+ydclhA1F1v8XiOaxkeTa4EG0WCTuQIRDhTg22eF22sAS69/kG+mVqChKSxrtUhrGdgKKkKTcfxRzCNfLGAPb+LbzRb7IWuZr1Oy7Q8rchcXT3IUANyKLY4vkvaeq0rURmXhCOYEYVxOwl7Og6ZIFItFzGaL0NdVwlZjxXI0idSqjN0BCa7tBuQcNHpn5+BXOUzJSv7E9MS1W6n0K79OXOkhNs9sj7d5t1cUPnnXva0pYScoS4OIa0oejY/VwbPNWtLNL6zg0vkRHCjjERpcQt0dBmfm5id/Xon1fnfN9QHQpwKbFg0A5uKL80yFpWcoGhfbaZORjRbyGgEsrWSIaCJD2CQd4rE1TP8SKTrSai4+uBqvijFL742P/di/MnskdGPk23tL9n9tqf4Eyd6AmHytescAAAAASUVORK5CYII=",alt:"Mine exploded"}),f&&!t&&0!==r&&Object(d.jsx)("span",{className:Object(l.a)([O.nearbyMines],{color:h(r)}),children:r})]})})},p=function(e){return Math.sqrt(e.tiles.length)};function C(e,t){if("number"!==typeof e)return C(p(e),t);var n=e,r=Math.floor(t/n),i=t%n;return[[r-1,i-1],[r,i-1],[r+1,i-1],[r-1,i],[r+1,i],[r-1,i+1],[r,i+1],[r+1,i+1]].reduce((function(e,t){var r=Object(o.a)(t,2),i=r[0],c=r[1];if(i<0||c<0||i>=n||c>=n)return e;var a=i*n+c;return e.some((function(e){return e===a}))?e:e.concat(a)}),[])}var y=function(e,t){return C(e,t).reduce((function(t,n){return t+(e.tiles[n].isMine?1:0)}),0)},x={root:{backgroundColor:"#12161F",borderRadius:4,padding:2,flexWrap:"wrap"}},M=function(e){var t=e.board,n=e.state,r=e.gameWon,i=e.onClick,c=e.onRightClick,a=n.visibilityState,o=p(t),s="1 0 ".concat(100/o,"%");return Object(d.jsx)("div",{style:Object(m.a)(Object(m.a)({},x.root),{},{width:40*o+1*(o+1)}),children:t.tiles.map((function(e,o){var l=e.isMine,u=a[o];return Object(d.jsx)(A,{isMine:l,visibility:u,nearbyMines:y(t,o),gameWon:r,gameOver:n.gameOver,style:{flex:s},onClick:function(){i(o)},onRightClick:function(){return c(o)}},o)}))})},k=function(e){return e[(t=e.length,Math.floor(Math.random()*t))];var t},w=function(e,t){return e.filter((function(e){return!t.some((function(t){return e===t}))}))},S=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[n],i=C(t,n),c=i.filter((function(e){return!t.tiles[e].isMine})),a=w(c,r),o=r.concat(a);return a.reduce((function(n,r){if(0!==y(t,r))return n;var i=e(t,r,o);return o=o.concat(i),n.concat(i)}),a)};var N=function(){var e=Object(r.useState)(10),t=Object(o.a)(e,2),n=t[0],i=(t[1],Object(r.useState)({tiles:new Array(n*n).fill(0).map((function(){return{isMine:!1}}))})),c=Object(o.a)(i,2),a=c[0],s=c[1],l=Object(r.useState)({gameOver:!1,visibilityState:a.tiles.map((function(){return"hidden"}))}),u=Object(o.a)(l,2),f=u[0],g=u[1],j=a.tiles.every((function(e,t){return!!e.isMine||"unveiled"===f.visibilityState[t]})),m=Object(r.useState)(!1),O=Object(o.a)(m,2),h=O[0],A=O[1],p=f.visibilityState.reduce((function(e,t){return"flagged"===t?e+1:e}),0),y=a.tiles.reduce((function(e,t){return t.isMine?e+1:e}),0),x=h?y-p:0;return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)("div",{style:{alignItems:"center",justifyContent:"center",flex:1},children:Object(d.jsxs)("div",{style:{flexDirection:"column"},children:[Object(d.jsxs)("div",{style:{marginBottom:8,justifyContent:"space-between"},children:[Object(d.jsx)(v,{status:!h||f.gameOver||j?"stopped":"running"}),Object(d.jsx)(b,{count:x})]}),Object(d.jsx)(M,{board:a,state:f,gameWon:j,onClick:function(e){var t=a;h||(t=function(e,t,n){if(t>e*e-9)throw new Error("Board cannot be full of mines");for(var r=[n].concat(C(e,n)),i=new Array(e*e).fill(0).map((function(e,t){return t})).filter((function(e,t){return!r.some((function(e){return e===t}))})),c=[],a=function(e){var t=k(i);c.push(t),i=i.filter((function(e){return e!==t}))},o=0;o<t;++o)a();return{tiles:new Array(e*e).fill(0).map((function(e,t){return t})).map((function(e){return{isMine:c.includes(e)}}))}}(n,40,e),s(t),A(!0));var r=t.tiles[e].isMine,i=r?[e]:[e].concat(S(t,e));g({gameOver:r,visibilityState:f.visibilityState.map((function(e,t){return i.some((function(e){return e===t}))&&"flagged"!==e?"unveiled":e}))})},onRightClick:function(e){!h||j||f.gameOver||g((function(t){return{gameOver:t.gameOver,visibilityState:f.visibilityState.map((function(t,n){return n!==e?t:"flagged"===t?"hidden":"flagged"}))}}))}})]})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),R()}},[[14,1,2]]]);
//# sourceMappingURL=main.e7270e94.chunk.js.map