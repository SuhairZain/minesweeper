{"version":3,"sources":["components/Timer.tsx","images/timer_black_24dp.svg","game/images/red-flag.svg","game/components/Tile.tsx","game/images/icons8-explosion-24.png","game/getBoardSize.ts","game/getNearbyTiles.ts","game/getNearbyMines.ts","game/components/Board.tsx","game/createBoard.ts","utils/arrays.ts","game/getTouchingEmptyTiles.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["timerId","styles","root","backgroundColor","padding","borderRadius","timer","content","height","width","margin","alignItems","justifyContent","flex","alignSelf","color","Timer","status","style","useState","time","setTime","useEffect","setInterval","seconds","clearInterval","padStart","minutes","Math","floor","className","css","src","timerIcon","clickable","cursor","unveiled","flagged","mine","flag","nearbyMines","fontWeight","fontSize","getColorForNearbyMines","Tile","isMine","visibility","gameOver","gameWon","onClick","isUnveiled","onRightClick","isFlagged","canClick","clickHandler","redFlag","alt","getBoardSize","board","sqrt","tiles","length","getNearbyTiles","position","boardSize","i","j","reduce","acc","curr","index","some","nDI","concat","getNearbyMines","p","flexWrap","Board","state","visibilityState","childFlex","map","tile","getRandomItem","items","max","random","subtractArrayFromArray","source","minus","filter","s","m","getTouchingEmptyTiles","visitedTiles","adjacentTiles","nonMineTiles","nonVisitedNonMineTiles","updatedVisitedTiles","touchingTiles","App","Array","fill","setBoard","boardState","setBoardState","every","t","gameStarted","setGameStarted","flexDirection","marginBottom","maybeUpdatedBoard","size","numberOfMines","initialIndex","Error","indicesToRandomlyPlaceMines","_","mineIndices","randomIndex","push","includes","createBoard","tilesToUnveil","v","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f846f208.chunk.js","sourcesContent":["import { CSSProperties, useEffect, useState } from \"react\";\nimport { styled } from \"../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport timerIcon from \"../images/timer_black_24dp.svg\";\n\nexport type ITimerStatus = \"running\" | \"stopped\";\n\nexport interface ITimerProps {\n  status: ITimerStatus;\n  style?: CSSProperties;\n}\n\nlet timerId: NodeJS.Timeout;\n\nconst styles = styled({\n  root: { backgroundColor: \"#12161F\", padding: 2, borderRadius: 4 },\n  timer: {\n    backgroundColor: \"#12161F\",\n  },\n  content: {\n    height: 40,\n    width: 40,\n    borderRadius: 4,\n    backgroundColor: \"#4b505b\",\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n    color: \"white\",\n  },\n});\n\nexport const Timer = ({ status, style }: ITimerProps) => {\n  const [time, setTime] = useState<number>(0);\n\n  useEffect(() => {\n    if (status === \"running\") {\n      timerId = setInterval(() => {\n        setTime((seconds) => seconds + 1);\n      }, 1000);\n    }\n\n    if (status === \"stopped\") {\n      clearInterval(timerId);\n    }\n\n    return () => clearInterval(timerId);\n  }, [status]);\n\n  const seconds = `${time % 60}`.padStart(2, \"0\");\n  const minutes = `${Math.floor(time / 60)}`.padStart(2, \"0\");\n\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div className={css(styles.content, styles.timer)}>\n        <img src={timerIcon} />\n      </div>\n      <div className={css(styles.content)}>{minutes}</div>\n      <div className={css(styles.content)}>{seconds}</div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/timer_black_24dp.280c283b.svg\";","export default __webpack_public_path__ + \"static/media/red-flag.083d31fd.svg\";","import { ITileVisibilityState } from \"../interfaces/IBoardState\";\nimport { styled } from \"../../interfaces/Styles\";\nimport { css } from \"@emotion/css\";\nimport redFlag from \"../images/red-flag.svg\";\nimport explosion from \"../images/icons8-explosion-24.png\";\nimport { CSSProperties } from \"react\";\n\nconst styles = styled({\n  root: {\n    height: 40,\n    width: 40,\n  },\n  content: {\n    backgroundColor: \"#3D7CEB\",\n    borderRadius: 4,\n    margin: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    alignSelf: \"stretch\",\n  },\n  clickable: {\n    cursor: \"pointer\",\n  },\n  unveiled: {\n    backgroundColor: \"#4b505b\",\n  },\n  flagged: {\n    backgroundColor: \"#edc9af\",\n  },\n  mine: {\n    backgroundColor: \"#CD5F66\",\n  },\n  flag: {\n    width: 24,\n    height: 24,\n  },\n  nearbyMines: {\n    fontWeight: \"bolder\",\n    fontSize: 16,\n  },\n});\n\nconst getColorForNearbyMines = (nearbyMines: number) => {\n  switch (nearbyMines) {\n    case 1:\n      return \"#77dd77\";\n    case 2:\n      return \"#e3fd96\";\n    case 3:\n      return \"#fdfd96\";\n    default:\n      return \"#fd9696\";\n  }\n};\n\nexport interface ITileProps {\n  gameOver: boolean;\n  gameWon: boolean;\n  isMine: boolean;\n  visibility: ITileVisibilityState;\n  nearbyMines: number;\n  style: CSSProperties;\n  onClick: () => void;\n  onRightClick: () => void;\n}\n\nexport const Tile = ({\n  isMine,\n  visibility,\n  nearbyMines,\n  gameOver,\n  gameWon,\n  style,\n  onClick,\n  onRightClick,\n}: ITileProps) => {\n  const isUnveiled = visibility === \"unveiled\";\n  const isFlagged = visibility === \"flagged\";\n\n  const canClick = !(gameOver || gameWon) && !isUnveiled && !isFlagged;\n  const clickHandler = canClick ? onClick : () => {};\n\n  return (\n    <div className={css(styles.root)} style={style}>\n      <div\n        className={css([\n          styles.content,\n          isUnveiled && styles.unveiled,\n          isFlagged && styles.flagged,\n          canClick && styles.clickable,\n        ])}\n        onClick={clickHandler}\n      >\n        {isFlagged && (\n          <img src={redFlag} className={css(styles.flag)} alt=\"Flagged\" />\n        )}\n        {gameOver && visibility !== \"flagged\" && isMine && (\n          <img src={explosion} alt=\"Mine exploded\" />\n        )}\n        {isUnveiled && !isMine && nearbyMines !== 0 && (\n          <span\n            className={css([styles.nearbyMines], {\n              color: getColorForNearbyMines(nearbyMines),\n            })}\n          >\n            {nearbyMines}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAEUklEQVRIie2TXUxbZRjH/+ezPafn9Ou0pUBbKGtpWR3lY3NjYwMlLG7R6BKJ8SvxY1nMYoxRr4hX3pgtMV4YNTPTEC9GMhJuZlyciolzEtwMHYMNSgdjfG2lVCg9Pf06rRdkDTKXoMmu9Ll9////73mf932A/1B1Uc3exvf/qYvcqtDlGq+iSOL4QwNYtEzwkKXMUFvbGHwoADvDtr5c4eT9nPbovwLs9TcfrKz0Sw8SGhjWaWFZVLJc01aCW3y7nnA4gpUlAENSvlabdbhz+6Ndf2fQs7QFAB4R9R6n01fxoGC/P1h7JNh6jqXxhVYrx0qA2bT6dYNeX3izuubU0/V7e8vK6nV/AVC0FQAOSlabX298fXOwNRAQnm1o/fQ1m+un7hrvYR1Ffx6JRDIlwNTU76thWQ63mSymj/07nnvGJV3a79u5DwA8Ho/ertGYAMDKauDguAMbsskng3veeUksHzpZGzh+zFlV8dX8zOiMmvgIAOiNXdxW0j8sZtKd5RotcaI2EOyPLpzlGabvlqL0+XnRck/n5niPz+cTy0mhw8kJ3W9VuYNeXmABYDIl528qqZ6xsbEsAFAbAZTBGjbQ9PNNeoMeAOp0othsMDaH1lY6XqhwWCmGBA0CEsPqQ6vJp96u9r76hrPaLTFsKefkdCR0dth+FLhevO8Gkcjw0g2jIQLAkSRVMEUSNRzPnKlvrgGAITYBKc/Cy+vI3vqdOwBgQqMgpapozAu4nkxkJ5W108CAWprf5sdayGQuLmUzyBPAOfMypjTp0pnWpEHSVAQA3KWyuOJQoNmlg6/IAQC+XLg9MjB6+dTGvPsAY3LiwoVYNGZUKdSa9TB3mPCbJCOLAkiBBKwULksy0K5D2+MOmKMEeJXC1bUVZTqhfAagsDGPBrqoJt9Em0MrvOjQaAM79UZPp2STAEC9m0dlC4+Kw04MDt+FTmRQ5zaBpdf7mo+mwE2vT+P03OzowMRQz+aG6Za6mx+2GGzHumt8BpogAAAqAdwR8qBFEsl0DoKWwd4me8l0Mapgv41DIizDmFuHtZnNbsvuzuHlXHbmTjY9NpOS+ydclhA1F1v8XiOaxkeTa4EG0WCTuQIRDhTg22eF22sAS69/kG+mVqChKSxrtUhrGdgKKkKTcfxRzCNfLGAPb+LbzRb7IWuZr1Oy7Q8rchcXT3IUANyKLY4vkvaeq0rURmXhCOYEYVxOwl7Og6ZIFItFzGaL0NdVwlZjxXI0idSqjN0BCa7tBuQcNHpn5+BXOUzJSv7E9MS1W6n0K79OXOkhNs9sj7d5t1cUPnnXva0pYScoS4OIa0oejY/VwbPNWtLNL6zg0vkRHCjjERpcQt0dBmfm5id/Xon1fnfN9QHQpwKbFg0A5uKL80yFpWcoGhfbaZORjRbyGgEsrWSIaCJD2CQd4rE1TP8SKTrSai4+uBqvijFL742P/di/MnskdGPk23tL9n9tqf4Eyd6AmHytescAAAAASUVORK5CYII=\"","import { IBoard } from \"./interfaces/IBoardState\";\n\nexport const getBoardSize = (board: IBoard) => Math.sqrt(board.tiles.length);\n","import { IBoard } from \"./interfaces/IBoardState\";\nimport { getBoardSize } from \"./getBoardSize\";\n\nexport const getNearbyTiles = (board: IBoard, position: number) => {\n  const boardSize = getBoardSize(board);\n\n  const i = Math.floor(position / boardSize);\n  const j = position % boardSize;\n\n  return [\n    [i - 1, j - 1],\n    [i, j - 1],\n    [i + 1, j - 1],\n    [i - 1, j],\n    [i + 1, j],\n    [i - 1, j + 1],\n    [i, j + 1],\n    [i + 1, j + 1],\n  ].reduce((acc, curr) => {\n    const [i, j] = curr;\n\n    if (i < 0 || j < 0 || i >= boardSize || j >= boardSize) {\n      return acc;\n    }\n\n    const index = i * boardSize + j;\n\n    if (acc.some((nDI) => nDI === index)) {\n      return acc;\n    }\n\n    return acc.concat(index);\n  }, []);\n};\n","import { IBoard } from \"./interfaces/IBoardState\";\nimport { getNearbyTiles } from \"./getNearbyTiles\";\n\nexport const getNearbyMines = (board: IBoard, position: number) => {\n  return getNearbyTiles(board, position).reduce(\n    (acc, p) => acc + (board.tiles[p].isMine ? 1 : 0),\n    0\n  );\n};\n","import { IBoard, IBoardState } from \"../interfaces/IBoardState\";\nimport { Tile } from \"./Tile\";\nimport { styled } from \"../../interfaces/Styles\";\nimport { getBoardSize } from \"../getBoardSize\";\nimport { getNearbyMines } from \"../getNearbyMines\";\n\nconst styles = styled({\n  root: {\n    backgroundColor: \"#12161F\",\n    borderRadius: 4,\n    padding: 2,\n    flexWrap: \"wrap\",\n  },\n});\n\nexport interface IBoardProps {\n  board: IBoard;\n  state: IBoardState;\n  gameWon: boolean;\n  onClick: (index: number) => void;\n  onRightClick: (index: number) => void;\n}\n\nexport const Board = ({\n  board,\n  state,\n  gameWon,\n  onClick,\n  onRightClick,\n}: IBoardProps) => {\n  const { visibilityState } = state;\n\n  const boardSize = getBoardSize(board);\n  const childFlex = `1 0 ${100 / boardSize}%`;\n\n  return (\n    <div\n      style={{ ...styles.root, width: boardSize * 40 + (boardSize + 1) * 1 }}\n    >\n      {board.tiles.map((tile, i) => {\n        const { isMine } = tile;\n        const visibility = visibilityState[i];\n\n        return (\n          <Tile\n            key={i}\n            isMine={isMine}\n            visibility={visibility}\n            nearbyMines={getNearbyMines(board, i)}\n            gameWon={gameWon}\n            gameOver={state.gameOver}\n            style={{ flex: childFlex }}\n            onClick={() => {\n              onClick(i);\n            }}\n            onRightClick={() => onRightClick(i)}\n          />\n        );\n      })}\n    </div>\n  );\n};\n","import { IBoard } from \"./interfaces/IBoardState\";\n\nconst getRandomInt = (max: number) => Math.floor(Math.random() * max);\n\nconst getRandomItem = <T>(items: T[]): T => {\n  return items[getRandomInt(items.length)];\n};\n\nexport const createBoard = (\n  size: number,\n  numberOfMines: number,\n  initialIndex: number\n): IBoard => {\n  if (numberOfMines === size * size) {\n    throw new Error(\"Board cannot be full of mines\");\n  }\n\n  let indicesToRandomlyPlaceMines = new Array(size * size)\n    .fill(0)\n    .map((_, i) => i)\n    .filter((_, i) => i !== initialIndex);\n\n  const mineIndices: number[] = [];\n  for (let i = 0; i < numberOfMines; ++i) {\n    const randomIndex = getRandomItem(indicesToRandomlyPlaceMines);\n    mineIndices.push(randomIndex);\n\n    indicesToRandomlyPlaceMines = indicesToRandomlyPlaceMines.filter(\n      (i) => i !== randomIndex\n    );\n  }\n\n  return {\n    tiles: new Array(size * size)\n      .fill(0)\n      .map((_, i) => i)\n      .map((i) => ({ isMine: mineIndices.includes(i) })),\n  };\n};\n","export const subtractArrayFromArray = <T>(source: T[], minus: T[]) => {\n  return source.filter((s) => !minus.some((m) => s === m));\n};\n","import { subtractArrayFromArray } from \"../utils/arrays\";\nimport { getNearbyMines } from \"./getNearbyMines\";\nimport { getNearbyTiles } from \"./getNearbyTiles\";\nimport { IBoard } from \"./interfaces/IBoardState\";\n\nexport const getTouchingEmptyTiles = (\n  board: IBoard,\n  position: number,\n  visitedTiles: number[] = [position]\n): number[] => {\n  const adjacentTiles = getNearbyTiles(board, position);\n  const nonMineTiles = adjacentTiles.filter(\n    (index) => !board.tiles[index].isMine\n  );\n\n  const nonVisitedNonMineTiles = subtractArrayFromArray(\n    nonMineTiles,\n    visitedTiles\n  );\n\n  let updatedVisitedTiles = visitedTiles.concat(nonVisitedNonMineTiles);\n\n  // console.log({ position, nonVisitedNonMineTiles, updatedVisitedTiles });\n\n  // let touchingEmptyTiles: number[] = nonVisitedEmptyTiles;\n  // nonVisitedEmptyTiles.forEach((index) => {\n  //   touchingEmptyTiles = touchingEmptyTiles.concat(\n  //     getTouchingEmptyTiles(board, index, updatedVisitedTiles)\n  //   );\n  //   // updatedVisitedTiles = updatedVisitedTiles.concat(touchingEmptyTiles);\n  // });\n  // return touchingEmptyTiles;\n\n  return nonVisitedNonMineTiles.reduce((acc, curr) => {\n    const touchingTiles = getTouchingEmptyTiles(\n      board,\n      curr,\n      updatedVisitedTiles\n    );\n    updatedVisitedTiles = updatedVisitedTiles.concat(touchingTiles);\n    return acc.concat(touchingTiles);\n  }, nonVisitedNonMineTiles);\n};\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport { Timer } from \"./components/Timer\";\nimport { Board } from \"./game/components/Board\";\nimport { createBoard } from \"./game/createBoard\";\nimport { getTouchingEmptyTiles } from \"./game/getTouchingEmptyTiles\";\nimport { IBoard, IBoardState } from \"./game/interfaces/IBoardState\";\n\n// TODO: Add modal for attribution for the flag icon and the several other resources I'm going to need\n// <div>Icons made by <a href=\"https://www.flaticon.com/authors/alfredo-hernandez\" title=\"Alfredo Hernandez\">Alfredo Hernandez</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\n// <a target=\"_blank\" href=\"undefined/icons/set/explosion\">Explosion icon</a> icon by <a target=\"_blank\" href=\"\">Icons8</a>\nfunction App() {\n  const [boardSize, setBoardSize] = useState(10);\n\n  const [board, setBoard] = useState<IBoard>({\n    tiles: new Array(boardSize * boardSize)\n      .fill(0)\n      .map(() => ({ isMine: false })),\n  });\n\n  const [boardState, setBoardState] = useState<IBoardState>({\n    gameOver: false,\n    visibilityState: board.tiles.map(() => \"hidden\"),\n  });\n\n  const gameWon = board.tiles.every((t, i) =>\n    t.isMine ? true : boardState.visibilityState[i] === \"unveiled\"\n  );\n\n  const [gameStarted, setGameStarted] = useState(false);\n\n  return (\n    <div className=\"App\">\n      <div\n        style={{\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flex: 1,\n        }}\n      >\n        <div\n          style={{\n            flexDirection: \"column\",\n          }}\n        >\n          <Timer\n            status={\n              gameStarted && !(boardState.gameOver || gameWon)\n                ? \"running\"\n                : \"stopped\"\n            }\n            style={{ marginBottom: 8, alignSelf: \"flex-start\" }}\n          />\n          <Board\n            board={board}\n            state={boardState}\n            gameWon={gameWon}\n            onClick={(index) => {\n              let maybeUpdatedBoard = board;\n\n              if (!gameStarted) {\n                maybeUpdatedBoard = createBoard(boardSize, 40, index);\n                setBoard(maybeUpdatedBoard);\n                setGameStarted(true);\n              }\n\n              const gameOver = maybeUpdatedBoard.tiles[index].isMine;\n\n              const tilesToUnveil = gameOver\n                ? [index]\n                : [index].concat(\n                    getTouchingEmptyTiles(maybeUpdatedBoard, index)\n                  );\n\n              setBoardState({\n                gameOver,\n                visibilityState: boardState.visibilityState.map((v, i) =>\n                  tilesToUnveil.some((t) => t === i) && v !== \"flagged\"\n                    ? \"unveiled\"\n                    : v\n                ),\n              });\n            }}\n            onRightClick={() => {}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}