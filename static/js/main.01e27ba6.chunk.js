(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),c=n(7),a=n.n(c),o=(n(12),n(3)),s=n(4);n(13);var l,u=n(1),d=n.p+"static/media/red-flag.083d31fd.svg",f=n(0),b={root:{backgroundColor:"#12161F",padding:2,borderRadius:4},flagIcon:{backgroundColor:"#12161F"},content:{height:40,width:40,borderRadius:4,backgroundColor:"#4b505b",margin:1,alignItems:"center",justifyContent:"center",flex:1,alignSelf:"stretch",color:"white"}},g=function(e){var t=e.count,n=e.style;return Object(f.jsxs)("div",{className:Object(u.a)(b.root),style:n,children:[Object(f.jsx)("div",{className:Object(u.a)(b.content),children:t}),Object(f.jsx)("div",{className:Object(u.a)(b.content,b.flagIcon),children:Object(f.jsx)("img",{src:d,width:24,height:24})})]})},j=n.p+"static/media/restart.b8c48c21.svg",v={root:{backgroundColor:"#12161F",padding:2,paddingLeft:3,borderRadius:4,alignItems:"center",justifyContent:"center"},level:{color:"white",width:120,paddingLeft:8,backgroundColor:"#4b505b",alignSelf:"center",alignItems:"center",borderRadius:4,height:40},restartButton:{height:40,width:40,borderRadius:4,margin:1,flex:1,alignItems:"center",justifyContent:"center",color:"white",backgroundColor:"#3D7CEB",cursor:"pointer",marginLeft:2}},m=function(e){var t=e.currentLevel,n=e.style,r=e.onRestartClick;return Object(f.jsxs)("div",{className:Object(u.a)(v.root),style:n,children:[Object(f.jsx)("div",{className:Object(u.a)(v.level),children:t}),Object(f.jsx)("div",{className:Object(u.a)(v.restartButton),onClick:r,children:Object(f.jsx)("img",{src:j,width:24,height:24})})]})},h=n.p+"static/media/timer_black_24dp.280c283b.svg",O={root:{backgroundColor:"#12161F",padding:2,borderRadius:4},timer:{backgroundColor:"#12161F"},content:{height:40,width:40,borderRadius:4,backgroundColor:"#4b505b",margin:1,alignItems:"center",justifyContent:"center",flex:1,alignSelf:"stretch",color:"white"}},A=function(e){var t=e.status,n=e.style,i=Object(r.useState)(0),c=Object(o.a)(i,2),a=c[0],s=c[1];Object(r.useEffect)((function(){return"running"===t&&(l=setInterval((function(){s((function(e){return e+1}))}),1e3)),"stopped"===t&&clearInterval(l),function(){return clearInterval(l)}}),[t]);var d="".concat(a%60).padStart(2,"0"),b="".concat(Math.floor(a/60)).padStart(2,"0");return Object(f.jsxs)("div",{className:Object(u.a)(O.root),style:n,children:[Object(f.jsx)("div",{className:Object(u.a)(O.content,O.timer),children:Object(f.jsx)("img",{src:h})}),Object(f.jsx)("div",{className:Object(u.a)(O.content),children:b}),Object(f.jsx)("div",{className:Object(u.a)(O.content),children:d})]})},p=n(6),C={root:{height:40,width:40},content:{backgroundColor:"#3D7CEB",borderRadius:4,margin:1,alignItems:"center",justifyContent:"center",flex:1,alignSelf:"stretch"},clickable:{cursor:"pointer"},unveiled:{backgroundColor:"#4b505b"},flagged:{backgroundColor:"#edc9af"},mine:{backgroundColor:"#CD5F66"},flag:{width:24,height:24},nearbyMines:{fontWeight:"bolder",fontSize:16}},y=function(e){switch(e){case 1:return"#77dd77";case 2:return"#e3fd96";case 3:return"#fdfd96";default:return"#fd9696"}},x=function(e){var t=e.isMine,n=e.visibility,r=e.nearbyMines,i=e.gameOver,c=e.gameWon,a=e.style,o=e.onClick,s=e.onRightClick,l="unveiled"===n,b="flagged"===n,g=function(e){return function(t){t.preventDefault(),e()}},j=!(i||c)&&!l&&!b,v=g(j?o:function(){}),m=g(i||c||l?function(){}:s);return Object(f.jsx)("div",{className:Object(u.a)(C.root),style:a,children:Object(f.jsxs)("div",{className:Object(u.a)([C.content,l&&C.unveiled,b&&C.flagged,j&&C.clickable]),onClick:v,onContextMenu:m,children:[b&&Object(f.jsx)("img",{src:d,className:Object(u.a)(C.flag),alt:"Flagged"}),i&&"flagged"!==n&&t&&Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAEUklEQVRIie2TXUxbZRjH/+ezPafn9Ou0pUBbKGtpWR3lY3NjYwMlLG7R6BKJ8SvxY1nMYoxRr4hX3pgtMV4YNTPTEC9GMhJuZlyciolzEtwMHYMNSgdjfG2lVCg9Pf06rRdkDTKXoMmu9Ll9////73mf932A/1B1Uc3exvf/qYvcqtDlGq+iSOL4QwNYtEzwkKXMUFvbGHwoADvDtr5c4eT9nPbovwLs9TcfrKz0Sw8SGhjWaWFZVLJc01aCW3y7nnA4gpUlAENSvlabdbhz+6Ndf2fQs7QFAB4R9R6n01fxoGC/P1h7JNh6jqXxhVYrx0qA2bT6dYNeX3izuubU0/V7e8vK6nV/AVC0FQAOSlabX298fXOwNRAQnm1o/fQ1m+un7hrvYR1Ffx6JRDIlwNTU76thWQ63mSymj/07nnvGJV3a79u5DwA8Ho/ertGYAMDKauDguAMbsskng3veeUksHzpZGzh+zFlV8dX8zOiMmvgIAOiNXdxW0j8sZtKd5RotcaI2EOyPLpzlGabvlqL0+XnRck/n5niPz+cTy0mhw8kJ3W9VuYNeXmABYDIl528qqZ6xsbEsAFAbAZTBGjbQ9PNNeoMeAOp0othsMDaH1lY6XqhwWCmGBA0CEsPqQ6vJp96u9r76hrPaLTFsKefkdCR0dth+FLhevO8Gkcjw0g2jIQLAkSRVMEUSNRzPnKlvrgGAITYBKc/Cy+vI3vqdOwBgQqMgpapozAu4nkxkJ5W108CAWprf5sdayGQuLmUzyBPAOfMypjTp0pnWpEHSVAQA3KWyuOJQoNmlg6/IAQC+XLg9MjB6+dTGvPsAY3LiwoVYNGZUKdSa9TB3mPCbJCOLAkiBBKwULksy0K5D2+MOmKMEeJXC1bUVZTqhfAagsDGPBrqoJt9Em0MrvOjQaAM79UZPp2STAEC9m0dlC4+Kw04MDt+FTmRQ5zaBpdf7mo+mwE2vT+P03OzowMRQz+aG6Za6mx+2GGzHumt8BpogAAAqAdwR8qBFEsl0DoKWwd4me8l0Mapgv41DIizDmFuHtZnNbsvuzuHlXHbmTjY9NpOS+ydclhA1F1v8XiOaxkeTa4EG0WCTuQIRDhTg22eF22sAS69/kG+mVqChKSxrtUhrGdgKKkKTcfxRzCNfLGAPb+LbzRb7IWuZr1Oy7Q8rchcXT3IUANyKLY4vkvaeq0rURmXhCOYEYVxOwl7Og6ZIFItFzGaL0NdVwlZjxXI0idSqjN0BCa7tBuQcNHpn5+BXOUzJSv7E9MS1W6n0K79OXOkhNs9sj7d5t1cUPnnXva0pYScoS4OIa0oejY/VwbPNWtLNL6zg0vkRHCjjERpcQt0dBmfm5id/Xon1fnfN9QHQpwKbFg0A5uKL80yFpWcoGhfbaZORjRbyGgEsrWSIaCJD2CQd4rE1TP8SKTrSai4+uBqvijFL742P/di/MnskdGPk23tL9n9tqf4Eyd6AmHytescAAAAASUVORK5CYII=",alt:"Mine exploded"}),l&&!t&&0!==r&&Object(f.jsx)("span",{className:Object(u.a)([C.nearbyMines],{color:y(r)}),children:r})]})})},k=function(e){return e.size};function w(e,t){if(!function(e){return Array.isArray(e)}(e))return w(k(e),t);var n=e,r=Math.floor(t/n[1]),i=t%n[1];return[[r-1,i-1],[r,i-1],[r+1,i-1],[r-1,i],[r+1,i],[r-1,i+1],[r,i+1],[r+1,i+1]].reduce((function(e,t){var r=Object(o.a)(t,2),i=r[0],c=r[1];if(i<0||c<0||i>=n[0]||c>=n[1])return e;var a=i*n[1]+c;return e.some((function(e){return e===a}))?e:e.concat(a)}),[])}var S,M=function(e,t){return w(e,t).reduce((function(t,n){return t+(e.tiles[n].isMine?1:0)}),0)},R={root:{backgroundColor:"#12161F",borderRadius:4,padding:2,flexWrap:"wrap"}},N=function(e){var t=e.board,n=e.state,r=e.gameWon,i=e.onClick,c=e.onRightClick,a=n.visibilityState,o=k(t),s="1 0 ".concat(100/o[1],"%");return Object(f.jsx)("div",{style:Object(p.a)(Object(p.a)({},R.root),{},{width:40*o[1]+1*(o[1]+1)}),children:t.tiles.map((function(e,o){var l=e.isMine,u=a[o];return Object(f.jsx)(x,{isMine:l,visibility:u,nearbyMines:M(t,o),gameWon:r,gameOver:n.gameOver,style:{flex:s},onClick:function(){i(o)},onRightClick:function(){return c(o)}},o)}))})},z=function(e){return e[(t=e.length,Math.floor(Math.random()*t))];var t},B=function(e,t){return e.filter((function(e){return!t.some((function(t){return e===t}))}))},I=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[n],i=w(t,n),c=i.filter((function(e){return!t.tiles[e].isMine})),a=B(c,r),o=r.concat(a);return a.reduce((function(n,r){if(0!==M(t,r))return n;var i=e(t,r,o);return o=o.concat(i),n.concat(i)}),a)};!function(e){e.Hard="Hard"}(S||(S={}));var G=Object(s.a)({},S.Hard,{size:[20,25],mines:80}),L=function(e){return{gameOver:!1,visibilityState:e.tiles.map((function(){return"hidden"}))}};var F=function(){var e=Object(r.useState)(S.Hard),t=Object(o.a)(e,2),n=t[0],i=(t[1],G[n]),c=i.size,a=Object(r.useState)({tiles:new Array(c[0]*c[1]).fill(0).map((function(){return{isMine:!1}})),size:c}),s=Object(o.a)(a,2),l=s[0],u=s[1],d=Object(r.useState)(L(l)),b=Object(o.a)(d,2),j=b[0],v=b[1],h=l.tiles.every((function(e,t){return!!e.isMine||"unveiled"===j.visibilityState[t]})),O=j.visibilityState.some((function(e){return"unveiled"===e})),p=j.visibilityState.reduce((function(e,t){return"flagged"===t?e+1:e}),0),C=i.mines-p;return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("div",{style:{alignItems:"center",justifyContent:"center",flex:1},children:Object(f.jsxs)("div",{style:{flexDirection:"column"},children:[Object(f.jsxs)("div",{style:{marginBottom:8,justifyContent:"space-between"},children:[Object(f.jsx)(A,{status:!O||j.gameOver||h?"stopped":"running"}),Object(f.jsx)(m,{currentLevel:n,levels:G,onRestartClick:function(){v(L(l))}}),Object(f.jsx)(g,{count:C})]}),Object(f.jsx)(N,{board:l,state:j,gameWon:h,onClick:function(e){var t=l;O||(t=function(e,t){var n=e.size,r=e.mines;if(r>n[0]*n[1]-9)throw new Error("Board cannot be full of mines");for(var i=[t].concat(w(n,t)),c=new Array(n[0]*n[1]).fill(0).map((function(e,t){return t})).filter((function(e,t){return!i.some((function(e){return e===t}))})),a=[],o=function(e){var t=z(c);a.push(t),c=c.filter((function(e){return e!==t}))},s=0;s<r;++s)o();return{tiles:new Array(n[0]*n[1]).fill(0).map((function(e,t){return t})).map((function(e){return{isMine:a.includes(e)}})),size:n}}(i,e),u(t));var n=t.tiles[e].isMine,r=n?[e]:[e].concat(I(t,e));v({gameOver:n,visibilityState:j.visibilityState.map((function(e,t){return r.some((function(e){return e===t}))&&"flagged"!==e?"unveiled":e}))})},onRightClick:function(e){!O||h||j.gameOver||v((function(t){return{gameOver:t.gameOver,visibilityState:j.visibilityState.map((function(t,n){return n!==e?t:"flagged"===t?"hidden":"flagged"}))}}))}})]})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};a.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root")),T()}},[[15,1,2]]]);
//# sourceMappingURL=main.01e27ba6.chunk.js.map